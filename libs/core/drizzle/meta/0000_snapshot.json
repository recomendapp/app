{
  "id": "00000000-0000-0000-0000-000000000000",
  "prevId": "",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "auth.oauth_authorizations": {
      "name": "oauth_authorizations",
      "schema": "auth",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "authorization_id": {
          "name": "authorization_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "redirect_uri": {
          "name": "redirect_uri",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "state": {
          "name": "state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "resource": {
          "name": "resource",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "code_challenge": {
          "name": "code_challenge",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "code_challenge_method": {
          "name": "code_challenge_method",
          "type": "code_challenge_method",
          "typeSchema": "auth",
          "primaryKey": false,
          "notNull": false
        },
        "response_type": {
          "name": "response_type",
          "type": "oauth_response_type",
          "typeSchema": "auth",
          "primaryKey": false,
          "notNull": true,
          "default": "'code'"
        },
        "status": {
          "name": "status",
          "type": "oauth_authorization_status",
          "typeSchema": "auth",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "authorization_code": {
          "name": "authorization_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "(now() + '00:03:00'::interval)"
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "nonce": {
          "name": "nonce",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "oauth_auth_pending_exp_idx": {
          "name": "oauth_auth_pending_exp_idx",
          "columns": [
            {
              "expression": "expires_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = 'pending'::auth.oauth_authorization_status)",
          "with": {}
        }
      },
      "foreignKeys": {
        "oauth_authorizations_client_id_fkey": {
          "name": "oauth_authorizations_client_id_fkey",
          "tableFrom": "oauth_authorizations",
          "tableTo": "oauth_clients",
          "schemaTo": "auth",
          "columnsFrom": ["client_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "oauth_authorizations_user_id_fkey": {
          "name": "oauth_authorizations_user_id_fkey",
          "tableFrom": "oauth_authorizations",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "oauth_authorizations_authorization_id_key": {
          "columns": ["authorization_id"],
          "nullsNotDistinct": false,
          "name": "oauth_authorizations_authorization_id_key"
        },
        "oauth_authorizations_authorization_code_key": {
          "columns": ["authorization_code"],
          "nullsNotDistinct": false,
          "name": "oauth_authorizations_authorization_code_key"
        }
      },
      "checkConstraints": {
        "oauth_authorizations_authorization_code_length": {
          "name": "oauth_authorizations_authorization_code_length",
          "value": "char_length(authorization_code) <= 255"
        },
        "oauth_authorizations_code_challenge_length": {
          "name": "oauth_authorizations_code_challenge_length",
          "value": "char_length(code_challenge) <= 128"
        },
        "oauth_authorizations_expires_at_future": {
          "name": "oauth_authorizations_expires_at_future",
          "value": "expires_at > created_at"
        },
        "oauth_authorizations_nonce_length": {
          "name": "oauth_authorizations_nonce_length",
          "value": "char_length(nonce) <= 255"
        },
        "oauth_authorizations_redirect_uri_length": {
          "name": "oauth_authorizations_redirect_uri_length",
          "value": "char_length(redirect_uri) <= 2048"
        },
        "oauth_authorizations_resource_length": {
          "name": "oauth_authorizations_resource_length",
          "value": "char_length(resource) <= 2048"
        },
        "oauth_authorizations_scope_length": {
          "name": "oauth_authorizations_scope_length",
          "value": "char_length(scope) <= 4096"
        },
        "oauth_authorizations_state_length": {
          "name": "oauth_authorizations_state_length",
          "value": "char_length(state) <= 4096"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "auth.schema_migrations": {
      "name": "schema_migrations",
      "schema": "auth",
      "columns": {
        "version": {
          "name": "version",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "auth.instances": {
      "name": "instances",
      "schema": "auth",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "uuid": {
          "name": "uuid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "raw_base_config": {
          "name": "raw_base_config",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "auth.mfa_amr_claims": {
      "name": "mfa_amr_claims",
      "schema": "auth",
      "columns": {
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "authentication_method": {
          "name": "authentication_method",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "mfa_amr_claims_session_id_fkey": {
          "name": "mfa_amr_claims_session_id_fkey",
          "tableFrom": "mfa_amr_claims",
          "tableTo": "sessions",
          "schemaTo": "auth",
          "columnsFrom": ["session_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "mfa_amr_claims_session_id_authentication_method_pkey": {
          "columns": ["session_id", "authentication_method"],
          "nullsNotDistinct": false,
          "name": "mfa_amr_claims_session_id_authentication_method_pkey"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "auth.mfa_factors": {
      "name": "mfa_factors",
      "schema": "auth",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "friendly_name": {
          "name": "friendly_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "factor_type": {
          "name": "factor_type",
          "type": "factor_type",
          "typeSchema": "auth",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "factor_status",
          "typeSchema": "auth",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "secret": {
          "name": "secret",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_challenged_at": {
          "name": "last_challenged_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "web_authn_credential": {
          "name": "web_authn_credential",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "web_authn_aaguid": {
          "name": "web_authn_aaguid",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "last_webauthn_challenge_data": {
          "name": "last_webauthn_challenge_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "factor_id_created_at_idx": {
          "name": "factor_id_created_at_idx",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "mfa_factors_user_friendly_name_unique": {
          "name": "mfa_factors_user_friendly_name_unique",
          "columns": [
            {
              "expression": "friendly_name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "(TRIM(BOTH FROM friendly_name) <> ''::text)",
          "with": {}
        },
        "mfa_factors_user_id_idx": {
          "name": "mfa_factors_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "unique_phone_factor_per_user": {
          "name": "unique_phone_factor_per_user",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "phone",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "mfa_factors_user_id_fkey": {
          "name": "mfa_factors_user_id_fkey",
          "tableFrom": "mfa_factors",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "mfa_factors_last_challenged_at_key": {
          "columns": ["last_challenged_at"],
          "nullsNotDistinct": false,
          "name": "mfa_factors_last_challenged_at_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "auth.mfa_challenges": {
      "name": "mfa_challenges",
      "schema": "auth",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "factor_id": {
          "name": "factor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "inet",
          "primaryKey": false,
          "notNull": true
        },
        "otp_code": {
          "name": "otp_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "web_authn_session_data": {
          "name": "web_authn_session_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "mfa_challenge_created_at_idx": {
          "name": "mfa_challenge_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "mfa_challenges_auth_factor_id_fkey": {
          "name": "mfa_challenges_auth_factor_id_fkey",
          "tableFrom": "mfa_challenges",
          "tableTo": "mfa_factors",
          "schemaTo": "auth",
          "columnsFrom": ["factor_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "public.user_review_movie_likes": {
      "name": "user_review_movie_likes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "user_review_movie_likes_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "review_id": {
          "name": "review_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_user_review_movie_likes_created_at": {
          "name": "idx_user_review_movie_likes_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_review_movie_likes_review_id": {
          "name": "idx_user_review_movie_likes_review_id",
          "columns": [
            {
              "expression": "review_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_review_movie_likes_user_id": {
          "name": "idx_user_review_movie_likes_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_review_movie_likes_review_id_fkey": {
          "name": "user_review_movie_likes_review_id_fkey",
          "tableFrom": "user_review_movie_likes",
          "tableTo": "user_reviews_movie",
          "schemaTo": "public",
          "columnsFrom": ["review_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "user_review_movie_likes_user_id_fkey": {
          "name": "user_review_movie_likes_user_id_fkey",
          "tableFrom": "user_review_movie_likes",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "User can insert own like if is allowed to see review": {
          "name": "User can insert own like if is allowed to see review",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "((user_id = ( SELECT auth.uid() AS uid)) AND (EXISTS ( SELECT 1\n   FROM user_reviews_movie\n  WHERE (user_reviews_movie.id = user_review_movie_likes.review_id))))"
        },
        "User can delete his own like": {
          "name": "User can delete his own like",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"]
        },
        "Enable read access": {
          "name": "Enable read access",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"]
        }
      },
      "isRLSEnabled": true
    },
    "public.user_review_tv_series_likes": {
      "name": "user_review_tv_series_likes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "user_review_tv_series_likes_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "review_id": {
          "name": "review_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_user_review_tv_series_likes_created_at": {
          "name": "idx_user_review_tv_series_likes_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_review_tv_series_likes_review_id": {
          "name": "idx_user_review_tv_series_likes_review_id",
          "columns": [
            {
              "expression": "review_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_review_tv_series_likes_user_id": {
          "name": "idx_user_review_tv_series_likes_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_review_tv_series_likes_review_id_fkey": {
          "name": "user_review_tv_series_likes_review_id_fkey",
          "tableFrom": "user_review_tv_series_likes",
          "tableTo": "user_reviews_tv_series",
          "schemaTo": "public",
          "columnsFrom": ["review_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "user_review_tv_series_likes_user_id_fkey": {
          "name": "user_review_tv_series_likes_user_id_fkey",
          "tableFrom": "user_review_tv_series_likes",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "User can delete his own like": {
          "name": "User can delete his own like",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"],
          "using": "(( SELECT auth.uid() AS uid) = user_id)"
        },
        "User can insert own like if is allowed to see review": {
          "name": "User can insert own like if is allowed to see review",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"]
        },
        "Enable read access": {
          "name": "Enable read access",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"]
        }
      },
      "isRLSEnabled": true
    },
    "auth.oauth_client_states": {
      "name": "oauth_client_states",
      "schema": "auth",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "provider_type": {
          "name": "provider_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code_verifier": {
          "name": "code_verifier",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_oauth_client_states_created_at": {
          "name": "idx_oauth_client_states_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "public.playlist_items_movie": {
      "name": "playlist_items_movie",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "playlist_items_movie_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "playlist_id": {
          "name": "playlist_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rank": {
          "name": "rank",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_playlist_items_movie_movie_id": {
          "name": "idx_playlist_items_movie_movie_id",
          "columns": [
            {
              "expression": "movie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_playlist_items_movie_user_id": {
          "name": "idx_playlist_items_movie_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "playlist_items_movie_playlist_id": {
          "name": "playlist_items_movie_playlist_id",
          "columns": [
            {
              "expression": "playlist_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "playlist_items_movie_rank": {
          "name": "playlist_items_movie_rank",
          "columns": [
            {
              "expression": "rank",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "playlist_items_movie_id_fkey": {
          "name": "playlist_items_movie_id_fkey",
          "tableFrom": "playlist_items_movie",
          "tableTo": "tmdb_movie",
          "schemaTo": "public",
          "columnsFrom": ["movie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "playlist_items_movie_playlist_id_fkey": {
          "name": "playlist_items_movie_playlist_id_fkey",
          "tableFrom": "playlist_items_movie",
          "tableTo": "playlists",
          "schemaTo": "public",
          "columnsFrom": ["playlist_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "playlist_items_movie_user_id_fkey": {
          "name": "playlist_items_movie_user_id_fkey",
          "tableFrom": "playlist_items_movie",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "playlist_items_movie_comment_check": {
          "name": "playlist_items_movie_comment_check",
          "value": "length(comment) <= 180"
        },
        "playlist_items_movie_rank_check": {
          "name": "playlist_items_movie_rank_check",
          "value": "rank >= 1"
        }
      },
      "policies": {
        "Insert for authorized users": {
          "name": "Insert for authorized users",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "(utils_check_playlist_type(playlist_id, 'movie'::text) AND ((utils_check_playlist_owner(( SELECT auth.uid() AS uid), playlist_id) OR utils_check_playlist_guest(( SELECT auth.uid() AS uid), playlist_id)) AND (( SELECT auth.uid() AS uid) = user_id)))"
        },
        "Delete for authorized users": {
          "name": "Delete for authorized users",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"]
        },
        "Select for public or authorized users": {
          "name": "Select for public or authorized users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"]
        },
        "Update for authorized users": {
          "name": "Update for authorized users",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"]
        }
      },
      "isRLSEnabled": true
    },
    "public.playlist_items_tv_series": {
      "name": "playlist_items_tv_series",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "playlist_items_tv_series_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "playlist_id": {
          "name": "playlist_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "tv_series_id": {
          "name": "tv_series_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rank": {
          "name": "rank",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_playlist_items_tv_series_tv_series_id": {
          "name": "idx_playlist_items_tv_series_tv_series_id",
          "columns": [
            {
              "expression": "tv_series_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_playlist_items_tv_series_user_id": {
          "name": "idx_playlist_items_tv_series_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "playlist_items_tv_series_playlist_id": {
          "name": "playlist_items_tv_series_playlist_id",
          "columns": [
            {
              "expression": "playlist_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "playlist_items_tv_series_rank": {
          "name": "playlist_items_tv_series_rank",
          "columns": [
            {
              "expression": "rank",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "playlist_items_tv_series_id_fkey": {
          "name": "playlist_items_tv_series_id_fkey",
          "tableFrom": "playlist_items_tv_series",
          "tableTo": "tmdb_tv_series",
          "schemaTo": "public",
          "columnsFrom": ["tv_series_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "playlist_items_tv_series_playlist_id_fkey": {
          "name": "playlist_items_tv_series_playlist_id_fkey",
          "tableFrom": "playlist_items_tv_series",
          "tableTo": "playlists",
          "schemaTo": "public",
          "columnsFrom": ["playlist_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "playlist_items_tv_series_user_id_fkey": {
          "name": "playlist_items_tv_series_user_id_fkey",
          "tableFrom": "playlist_items_tv_series",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "playlist_items_tv_series_comment_check": {
          "name": "playlist_items_tv_series_comment_check",
          "value": "length(comment) <= 180"
        },
        "playlist_items_tv_series_rank_check": {
          "name": "playlist_items_tv_series_rank_check",
          "value": "rank >= 1"
        }
      },
      "policies": {
        "Delete for authorized users": {
          "name": "Delete for authorized users",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"],
          "using": "(utils_check_playlist_owner(( SELECT auth.uid() AS uid), playlist_id) OR utils_check_playlist_guest(( SELECT auth.uid() AS uid), playlist_id))"
        },
        "Insert for authorized users": {
          "name": "Insert for authorized users",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"]
        },
        "Select for public or authorized users": {
          "name": "Select for public or authorized users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"]
        },
        "Update for authorized users": {
          "name": "Update for authorized users",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"]
        }
      },
      "isRLSEnabled": true
    },
    "auth.oauth_consents": {
      "name": "oauth_consents",
      "schema": "auth",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "client_id": {
          "name": "client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "scopes": {
          "name": "scopes",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "granted_at": {
          "name": "granted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "revoked_at": {
          "name": "revoked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "oauth_consents_active_client_idx": {
          "name": "oauth_consents_active_client_idx",
          "columns": [
            {
              "expression": "client_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(revoked_at IS NULL)",
          "with": {}
        },
        "oauth_consents_active_user_client_idx": {
          "name": "oauth_consents_active_user_client_idx",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "client_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(revoked_at IS NULL)",
          "with": {}
        },
        "oauth_consents_user_order_idx": {
          "name": "oauth_consents_user_order_idx",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "granted_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "oauth_consents_client_id_fkey": {
          "name": "oauth_consents_client_id_fkey",
          "tableFrom": "oauth_consents",
          "tableTo": "oauth_clients",
          "schemaTo": "auth",
          "columnsFrom": ["client_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "oauth_consents_user_id_fkey": {
          "name": "oauth_consents_user_id_fkey",
          "tableFrom": "oauth_consents",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "oauth_consents_user_client_unique": {
          "columns": ["user_id", "client_id"],
          "nullsNotDistinct": false,
          "name": "oauth_consents_user_client_unique"
        }
      },
      "checkConstraints": {
        "oauth_consents_revoked_after_granted": {
          "name": "oauth_consents_revoked_after_granted",
          "value": "(revoked_at IS NULL) OR (revoked_at >= granted_at)"
        },
        "oauth_consents_scopes_length": {
          "name": "oauth_consents_scopes_length",
          "value": "char_length(scopes) <= 2048"
        },
        "oauth_consents_scopes_not_empty": {
          "name": "oauth_consents_scopes_not_empty",
          "value": "char_length(TRIM(BOTH FROM scopes)) > 0"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "auth.oauth_clients": {
      "name": "oauth_clients",
      "schema": "auth",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "client_secret_hash": {
          "name": "client_secret_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "registration_type": {
          "name": "registration_type",
          "type": "oauth_registration_type",
          "typeSchema": "auth",
          "primaryKey": false,
          "notNull": true
        },
        "redirect_uris": {
          "name": "redirect_uris",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "grant_types": {
          "name": "grant_types",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "client_name": {
          "name": "client_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "client_uri": {
          "name": "client_uri",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "logo_uri": {
          "name": "logo_uri",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "client_type": {
          "name": "client_type",
          "type": "oauth_client_type",
          "typeSchema": "auth",
          "primaryKey": false,
          "notNull": true,
          "default": "'confidential'"
        }
      },
      "indexes": {
        "oauth_clients_deleted_at_idx": {
          "name": "oauth_clients_deleted_at_idx",
          "columns": [
            {
              "expression": "deleted_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "oauth_clients_client_name_length": {
          "name": "oauth_clients_client_name_length",
          "value": "char_length(client_name) <= 1024"
        },
        "oauth_clients_client_uri_length": {
          "name": "oauth_clients_client_uri_length",
          "value": "char_length(client_uri) <= 2048"
        },
        "oauth_clients_logo_uri_length": {
          "name": "oauth_clients_logo_uri_length",
          "value": "char_length(logo_uri) <= 2048"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.explore": {
      "name": "explore",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "explore_id_seq1",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.explore_items": {
      "name": "explore_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "explore_items_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "explore_id": {
          "name": "explore_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "location": {
          "name": "location",
          "type": "gis.geometry(Point,4326)",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_explore_items_explore_id": {
          "name": "idx_explore_items_explore_id",
          "columns": [
            {
              "expression": "explore_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_explore_items_location": {
          "name": "idx_explore_items_location",
          "columns": [
            {
              "expression": "location",
              "asc": true,
              "nulls": "last",
              "opclass": "gist_geometry_ops_2d",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gist",
          "with": {}
        },
        "idx_explore_items_movie_id": {
          "name": "idx_explore_items_movie_id",
          "columns": [
            {
              "expression": "movie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "explore_items_explore_id_fkey": {
          "name": "explore_items_explore_id_fkey",
          "tableFrom": "explore_items",
          "tableTo": "explore",
          "schemaTo": "public",
          "columnsFrom": ["explore_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "explore_items_movie_id_fkey": {
          "name": "explore_items_movie_id_fkey",
          "tableFrom": "explore_items",
          "tableTo": "tmdb_movie",
          "schemaTo": "public",
          "columnsFrom": ["movie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.sync_logs": {
      "name": "sync_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "sync_logs_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "type": {
          "name": "type",
          "type": "sync_logs_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "sync_logs_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'initialized'"
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_sync_logs_date": {
          "name": "idx_sync_logs_date",
          "columns": [
            {
              "expression": "date",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sync_logs_status": {
          "name": "idx_sync_logs_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_sync_logs_type": {
          "name": "idx_sync_logs_type",
          "columns": [
            {
              "expression": "type",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "auth.audit_log_entries": {
      "name": "audit_log_entries",
      "schema": "auth",
      "columns": {
        "instance_id": {
          "name": "instance_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        }
      },
      "indexes": {
        "audit_logs_instance_id_idx": {
          "name": "audit_logs_instance_id_idx",
          "columns": [
            {
              "expression": "instance_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "auth.refresh_tokens": {
      "name": "refresh_tokens",
      "schema": "auth",
      "columns": {
        "instance_id": {
          "name": "instance_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "revoked": {
          "name": "revoked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "parent": {
          "name": "parent",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "refresh_tokens_instance_id_idx": {
          "name": "refresh_tokens_instance_id_idx",
          "columns": [
            {
              "expression": "instance_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "refresh_tokens_instance_id_user_id_idx": {
          "name": "refresh_tokens_instance_id_user_id_idx",
          "columns": [
            {
              "expression": "instance_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "refresh_tokens_parent_idx": {
          "name": "refresh_tokens_parent_idx",
          "columns": [
            {
              "expression": "parent",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "refresh_tokens_session_id_revoked_idx": {
          "name": "refresh_tokens_session_id_revoked_idx",
          "columns": [
            {
              "expression": "session_id",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            },
            {
              "expression": "revoked",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "refresh_tokens_updated_at_idx": {
          "name": "refresh_tokens_updated_at_idx",
          "columns": [
            {
              "expression": "updated_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "refresh_tokens_session_id_fkey": {
          "name": "refresh_tokens_session_id_fkey",
          "tableFrom": "refresh_tokens",
          "tableTo": "sessions",
          "schemaTo": "auth",
          "columnsFrom": ["session_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "refresh_tokens_token_unique": {
          "columns": ["token"],
          "nullsNotDistinct": false,
          "name": "refresh_tokens_token_unique"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "auth.sso_providers": {
      "name": "sso_providers",
      "schema": "auth",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "disabled": {
          "name": "disabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sso_providers_resource_id_idx": {
          "name": "sso_providers_resource_id_idx",
          "columns": [
            {
              "expression": "lower(resource_id)",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": true
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sso_providers_resource_id_pattern_idx": {
          "name": "sso_providers_resource_id_pattern_idx",
          "columns": [
            {
              "expression": "resource_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_pattern_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "resource_id not empty": {
          "name": "resource_id not empty",
          "value": "(resource_id = NULL::text) OR (char_length(resource_id) > 0)"
        }
      },
      "policies": {},
      "isRLSEnabled": true
    },
    "auth.sso_domains": {
      "name": "sso_domains",
      "schema": "auth",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "sso_provider_id": {
          "name": "sso_provider_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "domain": {
          "name": "domain",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sso_domains_domain_idx": {
          "name": "sso_domains_domain_idx",
          "columns": [
            {
              "expression": "lower(domain)",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": true
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sso_domains_sso_provider_id_idx": {
          "name": "sso_domains_sso_provider_id_idx",
          "columns": [
            {
              "expression": "sso_provider_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sso_domains_sso_provider_id_fkey": {
          "name": "sso_domains_sso_provider_id_fkey",
          "tableFrom": "sso_domains",
          "tableTo": "sso_providers",
          "schemaTo": "auth",
          "columnsFrom": ["sso_provider_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "domain not empty": {
          "name": "domain not empty",
          "value": "char_length(domain) > 0"
        }
      },
      "policies": {},
      "isRLSEnabled": true
    },
    "auth.saml_providers": {
      "name": "saml_providers",
      "schema": "auth",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "sso_provider_id": {
          "name": "sso_provider_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "entity_id": {
          "name": "entity_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata_xml": {
          "name": "metadata_xml",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata_url": {
          "name": "metadata_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "attribute_mapping": {
          "name": "attribute_mapping",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "name_id_format": {
          "name": "name_id_format",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "saml_providers_sso_provider_id_idx": {
          "name": "saml_providers_sso_provider_id_idx",
          "columns": [
            {
              "expression": "sso_provider_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "saml_providers_sso_provider_id_fkey": {
          "name": "saml_providers_sso_provider_id_fkey",
          "tableFrom": "saml_providers",
          "tableTo": "sso_providers",
          "schemaTo": "auth",
          "columnsFrom": ["sso_provider_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "saml_providers_entity_id_key": {
          "columns": ["entity_id"],
          "nullsNotDistinct": false,
          "name": "saml_providers_entity_id_key"
        }
      },
      "checkConstraints": {
        "entity_id not empty": {
          "name": "entity_id not empty",
          "value": "char_length(entity_id) > 0"
        },
        "metadata_url not empty": {
          "name": "metadata_url not empty",
          "value": "(metadata_url = NULL::text) OR (char_length(metadata_url) > 0)"
        },
        "metadata_xml not empty": {
          "name": "metadata_xml not empty",
          "value": "char_length(metadata_xml) > 0"
        }
      },
      "policies": {},
      "isRLSEnabled": true
    },
    "public.tmdb_keyword": {
      "name": "tmdb_keyword",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_keyword_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "auth.users": {
      "name": "users",
      "schema": "auth",
      "columns": {
        "instance_id": {
          "name": "instance_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "aud": {
          "name": "aud",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "encrypted_password": {
          "name": "encrypted_password",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "email_confirmed_at": {
          "name": "email_confirmed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "invited_at": {
          "name": "invited_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "confirmation_token": {
          "name": "confirmation_token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "confirmation_sent_at": {
          "name": "confirmation_sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "recovery_token": {
          "name": "recovery_token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "recovery_sent_at": {
          "name": "recovery_sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "email_change_token_new": {
          "name": "email_change_token_new",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "email_change": {
          "name": "email_change",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "email_change_sent_at": {
          "name": "email_change_sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "last_sign_in_at": {
          "name": "last_sign_in_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "raw_app_meta_data": {
          "name": "raw_app_meta_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "raw_user_meta_data": {
          "name": "raw_user_meta_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_super_admin": {
          "name": "is_super_admin",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "NULL"
        },
        "phone_confirmed_at": {
          "name": "phone_confirmed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "phone_change": {
          "name": "phone_change",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "''"
        },
        "phone_change_token": {
          "name": "phone_change_token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "default": "''"
        },
        "phone_change_sent_at": {
          "name": "phone_change_sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "confirmed_at": {
          "name": "confirmed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "LEAST(email_confirmed_at, phone_confirmed_at)",
            "type": "stored"
          }
        },
        "email_change_token_current": {
          "name": "email_change_token_current",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "default": "''"
        },
        "email_change_confirm_status": {
          "name": "email_change_confirm_status",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "banned_until": {
          "name": "banned_until",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "reauthentication_token": {
          "name": "reauthentication_token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "default": "''"
        },
        "reauthentication_sent_at": {
          "name": "reauthentication_sent_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_sso_user": {
          "name": "is_sso_user",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_anonymous": {
          "name": "is_anonymous",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {
        "confirmation_token_idx": {
          "name": "confirmation_token_idx",
          "columns": [
            {
              "expression": "confirmation_token",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "((confirmation_token)::text !~ '^[0-9 ]*$'::text)",
          "with": {}
        },
        "email_change_token_current_idx": {
          "name": "email_change_token_current_idx",
          "columns": [
            {
              "expression": "email_change_token_current",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "((email_change_token_current)::text !~ '^[0-9 ]*$'::text)",
          "with": {}
        },
        "email_change_token_new_idx": {
          "name": "email_change_token_new_idx",
          "columns": [
            {
              "expression": "email_change_token_new",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "((email_change_token_new)::text !~ '^[0-9 ]*$'::text)",
          "with": {}
        },
        "reauthentication_token_idx": {
          "name": "reauthentication_token_idx",
          "columns": [
            {
              "expression": "reauthentication_token",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "((reauthentication_token)::text !~ '^[0-9 ]*$'::text)",
          "with": {}
        },
        "recovery_token_idx": {
          "name": "recovery_token_idx",
          "columns": [
            {
              "expression": "recovery_token",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "((recovery_token)::text !~ '^[0-9 ]*$'::text)",
          "with": {}
        },
        "users_email_partial_key": {
          "name": "users_email_partial_key",
          "columns": [
            {
              "expression": "email",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "(is_sso_user = false)",
          "with": {}
        },
        "users_instance_id_email_idx": {
          "name": "users_instance_id_email_idx",
          "columns": [
            {
              "expression": "instance_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": true
            },
            {
              "expression": "lower((email)::text)",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": true
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_instance_id_idx": {
          "name": "users_instance_id_idx",
          "columns": [
            {
              "expression": "instance_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_is_anonymous_idx": {
          "name": "users_is_anonymous_idx",
          "columns": [
            {
              "expression": "is_anonymous",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_phone_key": {
          "columns": ["phone"],
          "nullsNotDistinct": false,
          "name": "users_phone_key"
        }
      },
      "checkConstraints": {
        "users_email_change_confirm_status_check": {
          "name": "users_email_change_confirm_status_check",
          "value": "(email_change_confirm_status >= 0) AND (email_change_confirm_status <= 2)"
        }
      },
      "policies": {},
      "isRLSEnabled": true
    },
    "auth.saml_relay_states": {
      "name": "saml_relay_states",
      "schema": "auth",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "sso_provider_id": {
          "name": "sso_provider_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "request_id": {
          "name": "request_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "for_email": {
          "name": "for_email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "redirect_to": {
          "name": "redirect_to",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "flow_state_id": {
          "name": "flow_state_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "saml_relay_states_created_at_idx": {
          "name": "saml_relay_states_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "saml_relay_states_for_email_idx": {
          "name": "saml_relay_states_for_email_idx",
          "columns": [
            {
              "expression": "for_email",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "saml_relay_states_sso_provider_id_idx": {
          "name": "saml_relay_states_sso_provider_id_idx",
          "columns": [
            {
              "expression": "sso_provider_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "saml_relay_states_flow_state_id_fkey": {
          "name": "saml_relay_states_flow_state_id_fkey",
          "tableFrom": "saml_relay_states",
          "tableTo": "flow_state",
          "schemaTo": "auth",
          "columnsFrom": ["flow_state_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "saml_relay_states_sso_provider_id_fkey": {
          "name": "saml_relay_states_sso_provider_id_fkey",
          "tableFrom": "saml_relay_states",
          "tableTo": "sso_providers",
          "schemaTo": "auth",
          "columnsFrom": ["sso_provider_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "request_id not empty": {
          "name": "request_id not empty",
          "value": "char_length(request_id) > 0"
        }
      },
      "policies": {},
      "isRLSEnabled": true
    },
    "auth.flow_state": {
      "name": "flow_state",
      "schema": "auth",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "auth_code": {
          "name": "auth_code",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "code_challenge_method": {
          "name": "code_challenge_method",
          "type": "code_challenge_method",
          "typeSchema": "auth",
          "primaryKey": false,
          "notNull": true
        },
        "code_challenge": {
          "name": "code_challenge",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider_type": {
          "name": "provider_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider_access_token": {
          "name": "provider_access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "provider_refresh_token": {
          "name": "provider_refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "authentication_method": {
          "name": "authentication_method",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "auth_code_issued_at": {
          "name": "auth_code_issued_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "flow_state_created_at_idx": {
          "name": "flow_state_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_auth_code": {
          "name": "idx_auth_code",
          "columns": [
            {
              "expression": "auth_code",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_id_auth_method": {
          "name": "idx_user_id_auth_method",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "authentication_method",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "auth.sessions": {
      "name": "sessions",
      "schema": "auth",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "factor_id": {
          "name": "factor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "aal": {
          "name": "aal",
          "type": "aal_level",
          "typeSchema": "auth",
          "primaryKey": false,
          "notNull": false
        },
        "not_after": {
          "name": "not_after",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "refreshed_at": {
          "name": "refreshed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip": {
          "name": "ip",
          "type": "inet",
          "primaryKey": false,
          "notNull": false
        },
        "tag": {
          "name": "tag",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "oauth_client_id": {
          "name": "oauth_client_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token_hmac_key": {
          "name": "refresh_token_hmac_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "refresh_token_counter": {
          "name": "refresh_token_counter",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "scopes": {
          "name": "scopes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sessions_not_after_idx": {
          "name": "sessions_not_after_idx",
          "columns": [
            {
              "expression": "not_after",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sessions_oauth_client_id_idx": {
          "name": "sessions_oauth_client_id_idx",
          "columns": [
            {
              "expression": "oauth_client_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sessions_user_id_idx": {
          "name": "sessions_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_id_created_at_idx": {
          "name": "user_id_created_at_idx",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sessions_oauth_client_id_fkey": {
          "name": "sessions_oauth_client_id_fkey",
          "tableFrom": "sessions",
          "tableTo": "oauth_clients",
          "schemaTo": "auth",
          "columnsFrom": ["oauth_client_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "sessions_user_id_fkey": {
          "name": "sessions_user_id_fkey",
          "tableFrom": "sessions",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "sessions_scopes_length": {
          "name": "sessions_scopes_length",
          "value": "char_length(scopes) <= 4096"
        }
      },
      "policies": {},
      "isRLSEnabled": true
    },
    "auth.identities": {
      "name": "identities",
      "schema": "auth",
      "columns": {
        "provider_id": {
          "name": "provider_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "identity_data": {
          "name": "identity_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "last_sign_in_at": {
          "name": "last_sign_in_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "lower((identity_data ->> 'email'::text))",
            "type": "stored"
          }
        },
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        }
      },
      "indexes": {
        "identities_email_idx": {
          "name": "identities_email_idx",
          "columns": [
            {
              "expression": "email",
              "asc": true,
              "nulls": "last",
              "opclass": "text_pattern_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "identities_user_id_idx": {
          "name": "identities_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "identities_user_id_fkey": {
          "name": "identities_user_id_fkey",
          "tableFrom": "identities",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "identities_provider_id_provider_unique": {
          "columns": ["provider_id", "provider"],
          "nullsNotDistinct": false,
          "name": "identities_provider_id_provider_unique"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": true
    },
    "public.user_reviews_movie": {
      "name": "user_reviews_movie",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "user_reviews_movie_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "views_count": {
          "name": "views_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "likes_count": {
          "name": "likes_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "comments_count": {
          "name": "comments_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_user_reviews_movie_comments_count": {
          "name": "idx_user_reviews_movie_comments_count",
          "columns": [
            {
              "expression": "comments_count",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_reviews_movie_created_at": {
          "name": "idx_user_reviews_movie_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_reviews_movie_likes_count": {
          "name": "idx_user_reviews_movie_likes_count",
          "columns": [
            {
              "expression": "likes_count",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_reviews_movie_updated_at": {
          "name": "idx_user_reviews_movie_updated_at",
          "columns": [
            {
              "expression": "updated_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_reviews_movie_views_count": {
          "name": "idx_user_reviews_movie_views_count",
          "columns": [
            {
              "expression": "views_count",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_reviews_movie_id_fkey": {
          "name": "user_reviews_movie_id_fkey",
          "tableFrom": "user_reviews_movie",
          "tableTo": "user_activities_movie",
          "schemaTo": "public",
          "columnsFrom": ["id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "user_reviews_movie_body_check": {
          "name": "user_reviews_movie_body_check",
          "value": "length(body) <= 50000"
        },
        "user_reviews_movie_body_html_wrapper_check": {
          "name": "user_reviews_movie_body_html_wrapper_check",
          "value": "body ~ '^<html>.*</html>$'::text"
        },
        "user_reviews_movie_comments_count_check": {
          "name": "user_reviews_movie_comments_count_check",
          "value": "comments_count >= 0"
        },
        "user_reviews_movie_likes_count_check": {
          "name": "user_reviews_movie_likes_count_check",
          "value": "likes_count >= 0"
        },
        "user_reviews_movie_title_check": {
          "name": "user_reviews_movie_title_check",
          "value": "length(title) <= 50"
        },
        "user_reviews_movie_views_count_check": {
          "name": "user_reviews_movie_views_count_check",
          "value": "views_count >= 0"
        }
      },
      "policies": {
        "Enable delete for owner": {
          "name": "Enable delete for owner",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"],
          "using": "(EXISTS ( SELECT 1\n   FROM user_activities_movie uma\n  WHERE ((uma.id = user_reviews_movie.id) AND (uma.user_id = ( SELECT auth.uid() AS uid)))))"
        },
        "Enable read access": {
          "name": "Enable read access",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"]
        }
      },
      "isRLSEnabled": true
    },
    "public.user_reviews_tv_series": {
      "name": "user_reviews_tv_series",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "user_reviews_tv_series_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "views_count": {
          "name": "views_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "likes_count": {
          "name": "likes_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "comments_count": {
          "name": "comments_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "body": {
          "name": "body",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_user_reviews_tv_series_comments_count": {
          "name": "idx_user_reviews_tv_series_comments_count",
          "columns": [
            {
              "expression": "comments_count",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_reviews_tv_series_created_at": {
          "name": "idx_user_reviews_tv_series_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_reviews_tv_series_likes_count": {
          "name": "idx_user_reviews_tv_series_likes_count",
          "columns": [
            {
              "expression": "likes_count",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_reviews_tv_series_updated_at": {
          "name": "idx_user_reviews_tv_series_updated_at",
          "columns": [
            {
              "expression": "updated_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_reviews_tv_series_views_count": {
          "name": "idx_user_reviews_tv_series_views_count",
          "columns": [
            {
              "expression": "views_count",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_reviews_tv_series_id_fkey": {
          "name": "user_reviews_tv_series_id_fkey",
          "tableFrom": "user_reviews_tv_series",
          "tableTo": "user_activities_tv_series",
          "schemaTo": "public",
          "columnsFrom": ["id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "user_reviews_tv_series_body_check": {
          "name": "user_reviews_tv_series_body_check",
          "value": "length(body) <= 50000"
        },
        "user_reviews_tv_series_body_html_wrapper_check": {
          "name": "user_reviews_tv_series_body_html_wrapper_check",
          "value": "body ~ '^<html>.*</html>$'::text"
        },
        "user_reviews_tv_series_comments_count_check": {
          "name": "user_reviews_tv_series_comments_count_check",
          "value": "comments_count >= 0"
        },
        "user_reviews_tv_series_likes_count_check": {
          "name": "user_reviews_tv_series_likes_count_check",
          "value": "likes_count >= 0"
        },
        "user_reviews_tv_series_title_check": {
          "name": "user_reviews_tv_series_title_check",
          "value": "length(title) <= 50"
        },
        "user_reviews_tv_series_views_count_check": {
          "name": "user_reviews_tv_series_views_count_check",
          "value": "views_count >= 0"
        }
      },
      "policies": {
        "Enable read access": {
          "name": "Enable read access",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "(EXISTS ( SELECT 1\n   FROM user_activities_tv_series uma\n  WHERE (uma.id = user_reviews_tv_series.id)))"
        },
        "Enable delete for owner": {
          "name": "Enable delete for owner",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"]
        }
      },
      "isRLSEnabled": true
    },
    "auth.one_time_tokens": {
      "name": "one_time_tokens",
      "schema": "auth",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "token_type": {
          "name": "token_type",
          "type": "one_time_token_type",
          "typeSchema": "auth",
          "primaryKey": false,
          "notNull": true
        },
        "token_hash": {
          "name": "token_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "relates_to": {
          "name": "relates_to",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "one_time_tokens_relates_to_hash_idx": {
          "name": "one_time_tokens_relates_to_hash_idx",
          "columns": [
            {
              "expression": "relates_to",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "hash",
          "with": {}
        },
        "one_time_tokens_token_hash_hash_idx": {
          "name": "one_time_tokens_token_hash_hash_idx",
          "columns": [
            {
              "expression": "token_hash",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "hash",
          "with": {}
        },
        "one_time_tokens_user_id_token_type_key": {
          "name": "one_time_tokens_user_id_token_type_key",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "token_type",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "one_time_tokens_user_id_fkey": {
          "name": "one_time_tokens_user_id_fkey",
          "tableFrom": "one_time_tokens",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "one_time_tokens_token_hash_check": {
          "name": "one_time_tokens_token_hash_check",
          "value": "char_length(token_hash) > 0"
        }
      },
      "policies": {},
      "isRLSEnabled": true
    },
    "public.user_billing": {
      "name": "user_billing",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "billing_address": {
          "name": "billing_address",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "payment_method": {
          "name": "payment_method",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_billing_user_id_fkey": {
          "name": "user_billing_user_id_fkey",
          "tableFrom": "user_billing",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "User can only see his own data": {
          "name": "User can only see his own data",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["authenticated"],
          "using": "(( SELECT auth.uid() AS uid) = user_id)"
        }
      },
      "isRLSEnabled": true
    },
    "public.subscriptions": {
      "name": "subscriptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "product_id": {
          "name": "product_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "store": {
          "name": "store",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "purchased_at": {
          "name": "purchased_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "original_transaction_id": {
          "name": "original_transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "transaction_id": {
          "name": "transaction_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "environment": {
          "name": "environment",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_subscriptions_original_transaction_id": {
          "name": "idx_subscriptions_original_transaction_id",
          "columns": [
            {
              "expression": "original_transaction_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "subscriptions_product_id_idx": {
          "name": "subscriptions_product_id_idx",
          "columns": [
            {
              "expression": "product_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "subscriptions_status_idx": {
          "name": "subscriptions_status_idx",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "subscriptions_user_id_idx": {
          "name": "subscriptions_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "subscriptions_user_id_fkey": {
          "name": "subscriptions_user_id_fkey",
          "tableFrom": "subscriptions",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "User can see his own sub": {
          "name": "User can see his own sub",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["authenticated"],
          "using": "(( SELECT auth.uid() AS uid) = user_id)"
        }
      },
      "isRLSEnabled": true
    },
    "public.user_deletion_requests": {
      "name": "user_deletion_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "user_deletion_requests_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "delete_after": {
          "name": "delete_after",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "(now() + '30 days'::interval)"
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_deletion_requests_delete_after": {
          "name": "idx_user_deletion_requests_delete_after",
          "columns": [
            {
              "expression": "delete_after",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_deletion_requests_user_id": {
          "name": "idx_user_deletion_requests_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_deletion_requests_user_id_fkey": {
          "name": "user_deletion_requests_user_id_fkey",
          "tableFrom": "user_deletion_requests",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "User can select his own entry": {
          "name": "User can select his own entry",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["authenticated"],
          "using": "(( SELECT auth.uid() AS uid) = user_id)"
        },
        "User can insert his own entry": {
          "name": "User can insert his own entry",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"]
        },
        "User can delete his own entry": {
          "name": "User can delete his own entry",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"]
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_tv_series_roles": {
      "name": "tmdb_tv_series_roles",
      "schema": "",
      "columns": {
        "credit_id": {
          "name": "credit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "character": {
          "name": "character",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "episode_count": {
          "name": "episode_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "order": {
          "name": "order",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tmdb_tv_series_roles_credit_id_fkey": {
          "name": "tmdb_tv_series_roles_credit_id_fkey",
          "tableFrom": "tmdb_tv_series_roles",
          "tableTo": "tmdb_tv_series_credits",
          "schemaTo": "public",
          "columnsFrom": ["credit_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_network_alternative_name": {
      "name": "tmdb_network_alternative_name",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_network_alternative_name_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "network": {
          "name": "network",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_tmdb_network_alternative_name_network": {
          "name": "idx_tmdb_network_alternative_name_network",
          "columns": [
            {
              "expression": "network",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_network_alternative_name_network_fkey": {
          "name": "tmdb_network_alternative_name_network_fkey",
          "tableFrom": "tmdb_network_alternative_name",
          "tableTo": "tmdb_network",
          "schemaTo": "public",
          "columnsFrom": ["network"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_company": {
      "name": "tmdb_company",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_company_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "headquarters": {
          "name": "headquarters",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "homepage": {
          "name": "homepage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "origin_country": {
          "name": "origin_country",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_company": {
          "name": "parent_company",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_tmdb_company_name_trgm": {
          "name": "idx_tmdb_company_name_trgm",
          "columns": [
            {
              "expression": "name",
              "asc": true,
              "nulls": "last",
              "opclass": "gin_trgm_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_company_parent_company_fkey": {
          "name": "tmdb_company_parent_company_fkey",
          "tableFrom": "tmdb_company",
          "tableTo": "tmdb_company",
          "schemaTo": "public",
          "columnsFrom": ["parent_company"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_country": {
      "name": "tmdb_country",
      "schema": "",
      "columns": {
        "iso_3166_1": {
          "name": "iso_3166_1",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_gender": {
      "name": "tmdb_gender",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_gender_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.playlists_likes": {
      "name": "playlists_likes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "playlists_likes_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "playlist_id": {
          "name": "playlist_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_playlists_likes_playlist_id": {
          "name": "idx_playlists_likes_playlist_id",
          "columns": [
            {
              "expression": "playlist_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_playlists_likes_user_id": {
          "name": "idx_playlists_likes_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "playlists_likes_playlist_id_fkey": {
          "name": "playlists_likes_playlist_id_fkey",
          "tableFrom": "playlists_likes",
          "tableTo": "playlists",
          "schemaTo": "public",
          "columnsFrom": ["playlist_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "playlists_likes_user_id_fkey": {
          "name": "playlists_likes_user_id_fkey",
          "tableFrom": "playlists_likes",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "User can insert his own like": {
          "name": "User can insert his own like",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "((user_id = ( SELECT auth.uid() AS uid)) AND (EXISTS ( SELECT 1\n   FROM playlists\n  WHERE (playlists.id = playlists_likes.playlist_id))))"
        },
        "User can delete his own like": {
          "name": "User can delete his own like",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"]
        },
        "Like are viewable owner and playlist owner": {
          "name": "Like are viewable owner and playlist owner",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["authenticated"]
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_network": {
      "name": "tmdb_network",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_network_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "headquarters": {
          "name": "headquarters",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "homepage": {
          "name": "homepage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "origin_country": {
          "name": "origin_country",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_genre": {
      "name": "tmdb_genre",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_genre_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_network_image": {
      "name": "tmdb_network_image",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "network": {
          "name": "network",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_type": {
          "name": "file_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "aspect_ratio": {
          "name": "aspect_ratio",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "height": {
          "name": "height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "width": {
          "name": "width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "vote_average": {
          "name": "vote_average",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "vote_count": {
          "name": "vote_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_tmdb_network_image_network": {
          "name": "idx_tmdb_network_image_network",
          "columns": [
            {
              "expression": "network",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_network_image_vote_average": {
          "name": "idx_tmdb_network_image_vote_average",
          "columns": [
            {
              "expression": "vote_average",
              "asc": true,
              "nulls": "last",
              "opclass": "float4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_network_image_network_fkey": {
          "name": "tmdb_network_image_network_fkey",
          "tableFrom": "tmdb_network_image",
          "tableTo": "tmdb_network",
          "schemaTo": "public",
          "columnsFrom": ["network"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_collection": {
      "name": "tmdb_collection",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_collection_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.media_movie_stats": {
      "name": "media_movie_stats",
      "schema": "",
      "columns": {
        "vote_average": {
          "name": "vote_average",
          "type": "numeric(10, 1)",
          "primaryKey": false,
          "notNull": false,
          "default": "'NULL'"
        },
        "vote_count": {
          "name": "vote_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "likes_count": {
          "name": "likes_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "watch_count": {
          "name": "watch_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "review_count": {
          "name": "review_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "watchlist_count": {
          "name": "watchlist_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "recos_count": {
          "name": "recos_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "popularity": {
          "name": "popularity",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "((((((vote_count)::numeric * 0.3) + ((likes_count)::numeric * 0.25)) + ((watch_count)::numeric * 0.2)) + ((watchlist_count)::numeric * 0.15)) + ((recos_count)::numeric * 0.1))",
            "type": "stored"
          }
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_media_movie_stats_likes_count": {
          "name": "idx_media_movie_stats_likes_count",
          "columns": [
            {
              "expression": "likes_count",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_media_movie_stats_popularity": {
          "name": "idx_media_movie_stats_popularity",
          "columns": [
            {
              "expression": "popularity",
              "asc": true,
              "nulls": "last",
              "opclass": "numeric_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_media_movie_stats_recos_count": {
          "name": "idx_media_movie_stats_recos_count",
          "columns": [
            {
              "expression": "recos_count",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_media_movie_stats_review_count": {
          "name": "idx_media_movie_stats_review_count",
          "columns": [
            {
              "expression": "review_count",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_media_movie_stats_vote_count": {
          "name": "idx_media_movie_stats_vote_count",
          "columns": [
            {
              "expression": "vote_count",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_media_movie_stats_watch_count": {
          "name": "idx_media_movie_stats_watch_count",
          "columns": [
            {
              "expression": "watch_count",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_media_movie_stats_watchlist_count": {
          "name": "idx_media_movie_stats_watchlist_count",
          "columns": [
            {
              "expression": "watchlist_count",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "media_movie_stats_id_fkey": {
          "name": "media_movie_stats_id_fkey",
          "tableFrom": "media_movie_stats",
          "tableTo": "tmdb_movie",
          "schemaTo": "public",
          "columnsFrom": ["id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_company_alternative_name": {
      "name": "tmdb_company_alternative_name",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_company_alternative_name_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "company": {
          "name": "company",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_tmdb_company_alternative_name_company": {
          "name": "idx_tmdb_company_alternative_name_company",
          "columns": [
            {
              "expression": "company",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_company_alternative_name_company_fkey": {
          "name": "tmdb_company_alternative_name_company_fkey",
          "tableFrom": "tmdb_company_alternative_name",
          "tableTo": "tmdb_company",
          "schemaTo": "public",
          "columnsFrom": ["company"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_company_image": {
      "name": "tmdb_company_image",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "company": {
          "name": "company",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_type": {
          "name": "file_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "aspect_ratio": {
          "name": "aspect_ratio",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "height": {
          "name": "height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "width": {
          "name": "width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "vote_average": {
          "name": "vote_average",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "vote_count": {
          "name": "vote_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_tmdb_company_image_company": {
          "name": "idx_tmdb_company_image_company",
          "columns": [
            {
              "expression": "company",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_company_image_vote_average": {
          "name": "idx_tmdb_company_image_vote_average",
          "columns": [
            {
              "expression": "vote_average",
              "asc": true,
              "nulls": "last",
              "opclass": "float4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_company_image_company_fkey": {
          "name": "tmdb_company_image_company_fkey",
          "tableFrom": "tmdb_company_image",
          "tableTo": "tmdb_company",
          "schemaTo": "public",
          "columnsFrom": ["company"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.media_tv_series_stats": {
      "name": "media_tv_series_stats",
      "schema": "",
      "columns": {
        "vote_average": {
          "name": "vote_average",
          "type": "numeric(10, 1)",
          "primaryKey": false,
          "notNull": false,
          "default": "'NULL'"
        },
        "vote_count": {
          "name": "vote_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "likes_count": {
          "name": "likes_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "watch_count": {
          "name": "watch_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "review_count": {
          "name": "review_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "watchlist_count": {
          "name": "watchlist_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "recos_count": {
          "name": "recos_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "popularity": {
          "name": "popularity",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "((((((vote_count)::numeric * 0.3) + ((likes_count)::numeric * 0.25)) + ((watch_count)::numeric * 0.2)) + ((watchlist_count)::numeric * 0.15)) + ((recos_count)::numeric * 0.1))",
            "type": "stored"
          }
        },
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_media_tv_series_stats_likes_count": {
          "name": "idx_media_tv_series_stats_likes_count",
          "columns": [
            {
              "expression": "likes_count",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_media_tv_series_stats_popularity": {
          "name": "idx_media_tv_series_stats_popularity",
          "columns": [
            {
              "expression": "popularity",
              "asc": true,
              "nulls": "last",
              "opclass": "numeric_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_media_tv_series_stats_recos_count": {
          "name": "idx_media_tv_series_stats_recos_count",
          "columns": [
            {
              "expression": "recos_count",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_media_tv_series_stats_review_count": {
          "name": "idx_media_tv_series_stats_review_count",
          "columns": [
            {
              "expression": "review_count",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_media_tv_series_stats_vote_count": {
          "name": "idx_media_tv_series_stats_vote_count",
          "columns": [
            {
              "expression": "vote_count",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_media_tv_series_stats_watch_count": {
          "name": "idx_media_tv_series_stats_watch_count",
          "columns": [
            {
              "expression": "watch_count",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_media_tv_series_stats_watchlist_count": {
          "name": "idx_media_tv_series_stats_watchlist_count",
          "columns": [
            {
              "expression": "watchlist_count",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "media_tv_series_stats_id_fkey": {
          "name": "media_tv_series_stats_id_fkey",
          "tableFrom": "media_tv_series_stats",
          "tableTo": "tmdb_tv_series",
          "schemaTo": "public",
          "columnsFrom": ["id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.playlist_guests": {
      "name": "playlist_guests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "playlist_guests_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "playlist_id": {
          "name": "playlist_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "edit": {
          "name": "edit",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {
        "idx_playlist_guests_created_at": {
          "name": "idx_playlist_guests_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "playlist_guests_playlist_id": {
          "name": "playlist_guests_playlist_id",
          "columns": [
            {
              "expression": "playlist_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "playlist_guests_user_id": {
          "name": "playlist_guests_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "playlist_guests_playlist_id_fkey": {
          "name": "playlist_guests_playlist_id_fkey",
          "tableFrom": "playlist_guests",
          "tableTo": "playlists",
          "schemaTo": "public",
          "columnsFrom": ["playlist_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "playlist_guests_user_id_fkey": {
          "name": "playlist_guests_user_id_fkey",
          "tableFrom": "playlist_guests",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Owner or target guest can delete": {
          "name": "Owner or target guest can delete",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"],
          "using": "((( SELECT auth.uid() AS uid) = user_id) OR utils_check_playlist_owner(( SELECT auth.uid() AS uid), playlist_id))"
        },
        "Owner can insert": {
          "name": "Owner can insert",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"]
        },
        "Owner and guests can select": {
          "name": "Owner and guests can select",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"]
        },
        "Owner can update": {
          "name": "Owner can update",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"]
        }
      },
      "isRLSEnabled": true
    },
    "public.playlists": {
      "name": "playlists",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "playlists_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "poster_url": {
          "name": "poster_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "private": {
          "name": "private",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "items_count": {
          "name": "items_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "saved_count": {
          "name": "saved_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "likes_count": {
          "name": "likes_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "type": {
          "name": "type",
          "type": "playlists_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_playlists_created_at": {
          "name": "idx_playlists_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_playlists_items_count": {
          "name": "idx_playlists_items_count",
          "columns": [
            {
              "expression": "items_count",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_playlists_likes_count": {
          "name": "idx_playlists_likes_count",
          "columns": [
            {
              "expression": "likes_count",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_playlists_saved_count": {
          "name": "idx_playlists_saved_count",
          "columns": [
            {
              "expression": "saved_count",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_playlists_type": {
          "name": "idx_playlists_type",
          "columns": [
            {
              "expression": "type",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_playlists_user_id": {
          "name": "idx_playlists_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "playlists_user_id_fkey": {
          "name": "playlists_user_id_fkey",
          "tableFrom": "playlists",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "playlists_description_check": {
          "name": "playlists_description_check",
          "value": "((description IS NULL) OR ((length(description) >= 1) AND (length(description) <= 300))) AND ((description IS NULL) OR (description !~ '.*\\n\\s*\\n.*'::text)) AND ((description IS NULL) OR (TRIM(BOTH FROM description) <> ''::text))"
        },
        "playlists_items_count_check": {
          "name": "playlists_items_count_check",
          "value": "items_count >= 0"
        },
        "playlists_likes_count_check": {
          "name": "playlists_likes_count_check",
          "value": "likes_count >= 0"
        },
        "playlists_saved_count_check": {
          "name": "playlists_saved_count_check",
          "value": "saved_count >= 0"
        },
        "playlists_title_check": {
          "name": "playlists_title_check",
          "value": "(length(title) >= 1) AND (length(title) <= 100)"
        }
      },
      "policies": {
        "User can insert his own playlist": {
          "name": "User can insert his own playlist",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "(( SELECT auth.uid() AS uid) = user_id)"
        },
        "User can update his own playlist": {
          "name": "User can update his own playlist",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"]
        },
        "User can delete his own playlist": {
          "name": "User can delete his own playlist",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"]
        },
        "Playlist are visible depending of the is_public state": {
          "name": "Playlist are visible depending of the is_public state",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"]
        }
      },
      "isRLSEnabled": true
    },
    "public.ui_backgrounds": {
      "name": "ui_backgrounds",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "media_type": {
          "name": "media_type",
          "type": "media_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "media_id": {
          "name": "media_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.user_follower": {
      "name": "user_follower",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "user_follower_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "followee_id": {
          "name": "followee_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "is_pending": {
          "name": "is_pending",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_follower_followee_id": {
          "name": "idx_user_follower_followee_id",
          "columns": [
            {
              "expression": "followee_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_follower_user_id": {
          "name": "idx_user_follower_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_follower_followee_id_fkey": {
          "name": "user_follower_followee_id_fkey",
          "tableFrom": "user_follower",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["followee_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "user_follower_user_id_fkey": {
          "name": "user_follower_user_id_fkey",
          "tableFrom": "user_follower",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_follower_followee": {
          "columns": ["followee_id", "user_id"],
          "nullsNotDistinct": false,
          "name": "unique_follower_followee"
        }
      },
      "checkConstraints": {
        "check_follower_followee": {
          "name": "check_follower_followee",
          "value": "user_id <> followee_id"
        }
      },
      "policies": {
        "Read rule": {
          "name": "Read rule",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "((( SELECT auth.uid() AS uid) = user_id) OR (( SELECT auth.uid() AS uid) = followee_id) OR (((NOT utils_check_user_privacy(followee_id)) OR utils_check_user_following(( SELECT auth.uid() AS uid), followee_id)) AND ((NOT utils_check_user_privacy(user_id)) OR utils_check_user_following(( SELECT auth.uid() AS uid), user_id))))"
        },
        "Users can insert their own followee": {
          "name": "Users can insert their own followee",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"]
        },
        "Followee can update the is_pending column": {
          "name": "Followee can update the is_pending column",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"]
        },
        "Users can delete their own followee or people who follow him": {
          "name": "Users can delete their own followee or people who follow him",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"]
        }
      },
      "isRLSEnabled": true
    },
    "public.user_friend": {
      "name": "user_friend",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "user_friend_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "friend_id": {
          "name": "friend_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_friend_friend_id": {
          "name": "idx_user_friend_friend_id",
          "columns": [
            {
              "expression": "friend_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_friend_user_id": {
          "name": "idx_user_friend_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_friend_friend_id_fkey": {
          "name": "user_friend_friend_id_fkey",
          "tableFrom": "user_friend",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["friend_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "user_friend_user_id_fkey": {
          "name": "user_friend_user_id_fkey",
          "tableFrom": "user_friend",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_friend_user": {
          "columns": ["friend_id", "user_id"],
          "nullsNotDistinct": false,
          "name": "unique_friend_user"
        }
      },
      "checkConstraints": {
        "check_friend_user": {
          "name": "check_friend_user",
          "value": "user_id <> friend_id"
        }
      },
      "policies": {
        "User can see his friends and users friend with him": {
          "name": "User can see his friends and users friend with him",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["authenticated"],
          "using": "((( SELECT auth.uid() AS uid) = user_id) OR (( SELECT auth.uid() AS uid) = friend_id))"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_collection_image": {
      "name": "tmdb_collection_image",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_collection_image_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "collection": {
          "name": "collection",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "image_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "aspect_ratio": {
          "name": "aspect_ratio",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "height": {
          "name": "height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "width": {
          "name": "width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "vote_average": {
          "name": "vote_average",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "vote_count": {
          "name": "vote_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "iso_639_1": {
          "name": "iso_639_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_tmdb_collection_image_collection": {
          "name": "idx_tmdb_collection_image_collection",
          "columns": [
            {
              "expression": "collection",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_collection_image_iso_language": {
          "name": "idx_tmdb_collection_image_iso_language",
          "columns": [
            {
              "expression": "iso_639_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_collection_image_type": {
          "name": "idx_tmdb_collection_image_type",
          "columns": [
            {
              "expression": "type",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_collection_image_vote_average": {
          "name": "idx_tmdb_collection_image_vote_average",
          "columns": [
            {
              "expression": "vote_average",
              "asc": true,
              "nulls": "last",
              "opclass": "float4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_collection_image_collection_fkey": {
          "name": "tmdb_collection_image_collection_fkey",
          "tableFrom": "tmdb_collection_image",
          "tableTo": "tmdb_collection",
          "schemaTo": "public",
          "columnsFrom": ["collection"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_collection_translation": {
      "name": "tmdb_collection_translation",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_collection_translation_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "collection": {
          "name": "collection",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "iso_639_1": {
          "name": "iso_639_1",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "overview": {
          "name": "overview",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "iso_3166_1": {
          "name": "iso_3166_1",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "homepage": {
          "name": "homepage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_tmdb_collection_translation_collection": {
          "name": "idx_tmdb_collection_translation_collection",
          "columns": [
            {
              "expression": "collection",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_collection_translation_collection_language": {
          "name": "idx_tmdb_collection_translation_collection_language",
          "columns": [
            {
              "expression": "collection",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "iso_639_1",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            },
            {
              "expression": "iso_3166_1",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_collection_translation_iso_3166_1": {
          "name": "idx_tmdb_collection_translation_iso_3166_1",
          "columns": [
            {
              "expression": "iso_3166_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_collection_translation_iso_639_1": {
          "name": "idx_tmdb_collection_translation_iso_639_1",
          "columns": [
            {
              "expression": "iso_639_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_collection_translation_collection_fkey": {
          "name": "tmdb_collection_translation_collection_fkey",
          "tableFrom": "tmdb_collection_translation",
          "tableTo": "tmdb_collection",
          "schemaTo": "public",
          "columnsFrom": ["collection"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.user_recos_movie": {
      "name": "user_recos_movie",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "user_recos_movie_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sender_id": {
          "name": "sender_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "reco_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        }
      },
      "indexes": {
        "idx_user_recos_movie_created_at": {
          "name": "idx_user_recos_movie_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_recos_movie_movie_id": {
          "name": "idx_user_recos_movie_movie_id",
          "columns": [
            {
              "expression": "movie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_recos_movie_sender_id": {
          "name": "idx_user_recos_movie_sender_id",
          "columns": [
            {
              "expression": "sender_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_recos_movie_status": {
          "name": "idx_user_recos_movie_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_recos_movie_user_id": {
          "name": "idx_user_recos_movie_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_recos_movie_active_unique": {
          "name": "user_recos_movie_active_unique",
          "columns": [
            {
              "expression": "movie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            },
            {
              "expression": "sender_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "(status = 'active'::reco_status)",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_recos_movie_movie_id_fkey": {
          "name": "user_recos_movie_movie_id_fkey",
          "tableFrom": "user_recos_movie",
          "tableTo": "tmdb_movie",
          "schemaTo": "public",
          "columnsFrom": ["movie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_recos_movie_sender_id_fkey": {
          "name": "user_recos_movie_sender_id_fkey",
          "tableFrom": "user_recos_movie",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["sender_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "user_recos_movie_user_id_fkey": {
          "name": "user_recos_movie_user_id_fkey",
          "tableFrom": "user_recos_movie",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "user_recos_movie_comment_check": {
          "name": "user_recos_movie_comment_check",
          "value": "length(comment) <= 180"
        },
        "user_recos_movie_unique_user_id_sender_id": {
          "name": "user_recos_movie_unique_user_id_sender_id",
          "value": "user_id <> sender_id"
        }
      },
      "policies": {
        "Only friends user can insert.": {
          "name": "Only friends user can insert.",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "((sender_id = ( SELECT auth.uid() AS uid)) AND (status = 'active'::reco_status) AND utils_check_user_friendship(user_id, ( SELECT auth.uid() AS uid)))"
        },
        "Owner or sender can see": {
          "name": "Owner or sender can see",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["authenticated"]
        },
        "Sender can update comment only & User can change status": {
          "name": "Sender can update comment only & User can change status",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"]
        }
      },
      "isRLSEnabled": true
    },
    "public.user_watchlists_movie": {
      "name": "user_watchlists_movie",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "user_watchlists_movie_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "watchlist_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_user_watchlists_movie_created_at": {
          "name": "idx_user_watchlists_movie_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_watchlists_movie_movie_id": {
          "name": "idx_user_watchlists_movie_movie_id",
          "columns": [
            {
              "expression": "movie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_watchlists_movie_status": {
          "name": "idx_user_watchlists_movie_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_watchlists_movie_unique_active": {
          "name": "idx_user_watchlists_movie_unique_active",
          "columns": [
            {
              "expression": "movie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            },
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "(status = 'active'::watchlist_status)",
          "with": {}
        },
        "idx_user_watchlists_movie_user_id": {
          "name": "idx_user_watchlists_movie_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_watchlists_movie_movie_id_fkey": {
          "name": "user_watchlists_movie_movie_id_fkey",
          "tableFrom": "user_watchlists_movie",
          "tableTo": "tmdb_movie",
          "schemaTo": "public",
          "columnsFrom": ["movie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_watchlists_movie_user_id_fkey": {
          "name": "user_watchlists_movie_user_id_fkey",
          "tableFrom": "user_watchlists_movie",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "user_watchlists_movie_comment_check": {
          "name": "user_watchlists_movie_comment_check",
          "value": "length(comment) <= 180"
        }
      },
      "policies": {
        "Users can see if user is public or if you are friend with him": {
          "name": "Users can see if user is public or if you are friend with him",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "((( SELECT auth.uid() AS uid) = user_id) OR (NOT utils_check_user_privacy(user_id)) OR utils_check_user_following(( SELECT auth.uid() AS uid), user_id))"
        },
        "Allow owner update comment": {
          "name": "Allow owner update comment",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"]
        },
        "Users can delete their own watchlisted film": {
          "name": "Users can delete their own watchlisted film",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"]
        },
        "Users can insert their own watchlisted film": {
          "name": "Users can insert their own watchlisted film",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"]
        }
      },
      "isRLSEnabled": true
    },
    "public.user_watchlists_tv_series": {
      "name": "user_watchlists_tv_series",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "user_watchlists_tv_series_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "tv_series_id": {
          "name": "tv_series_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "watchlist_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_user_watchlists_tv_series_created_at": {
          "name": "idx_user_watchlists_tv_series_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_watchlists_tv_series_status": {
          "name": "idx_user_watchlists_tv_series_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_watchlists_tv_series_tv_series_id": {
          "name": "idx_user_watchlists_tv_series_tv_series_id",
          "columns": [
            {
              "expression": "tv_series_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_watchlists_tv_series_unique_active": {
          "name": "idx_user_watchlists_tv_series_unique_active",
          "columns": [
            {
              "expression": "tv_series_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            },
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "(status = 'active'::watchlist_status)",
          "with": {}
        },
        "idx_user_watchlists_tv_series_user_id": {
          "name": "idx_user_watchlists_tv_series_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_watchlists_tv_series_tv_series_id_fkey": {
          "name": "user_watchlists_tv_series_tv_series_id_fkey",
          "tableFrom": "user_watchlists_tv_series",
          "tableTo": "tmdb_tv_series",
          "schemaTo": "public",
          "columnsFrom": ["tv_series_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "user_watchlists_tv_series_user_id_fkey": {
          "name": "user_watchlists_tv_series_user_id_fkey",
          "tableFrom": "user_watchlists_tv_series",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "user_watchlists_tv_series_comment_check": {
          "name": "user_watchlists_tv_series_comment_check",
          "value": "length(comment) <= 180"
        }
      },
      "policies": {
        "Users can delete their own watchlisted film": {
          "name": "Users can delete their own watchlisted film",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"],
          "using": "(( SELECT auth.uid() AS uid) = user_id)"
        },
        "Users can insert their own watchlisted film": {
          "name": "Users can insert their own watchlisted film",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"]
        },
        "Users can see if user is public or if you are friend with him": {
          "name": "Users can see if user is public or if you are friend with him",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"]
        },
        "Allow owner update comment": {
          "name": "Allow owner update comment",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"]
        }
      },
      "isRLSEnabled": true
    },
    "public.user_recos_tv_series": {
      "name": "user_recos_tv_series",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "user_recos_tv_series_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "tv_series_id": {
          "name": "tv_series_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sender_id": {
          "name": "sender_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "reco_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        }
      },
      "indexes": {
        "idx_user_recos_tv_series_created_at": {
          "name": "idx_user_recos_tv_series_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_recos_tv_series_sender_id": {
          "name": "idx_user_recos_tv_series_sender_id",
          "columns": [
            {
              "expression": "sender_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_recos_tv_series_status": {
          "name": "idx_user_recos_tv_series_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_recos_tv_series_tv_series_id": {
          "name": "idx_user_recos_tv_series_tv_series_id",
          "columns": [
            {
              "expression": "tv_series_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_recos_tv_series_user_id": {
          "name": "idx_user_recos_tv_series_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_recos_tv_series_active_unique": {
          "name": "user_recos_tv_series_active_unique",
          "columns": [
            {
              "expression": "tv_series_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            },
            {
              "expression": "sender_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "(status = 'active'::reco_status)",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_recos_tv_series_sender_id_fkey": {
          "name": "user_recos_tv_series_sender_id_fkey",
          "tableFrom": "user_recos_tv_series",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["sender_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "user_recos_tv_series_tv_series_id_fkey": {
          "name": "user_recos_tv_series_tv_series_id_fkey",
          "tableFrom": "user_recos_tv_series",
          "tableTo": "tmdb_tv_series",
          "schemaTo": "public",
          "columnsFrom": ["tv_series_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_recos_tv_series_user_id_fkey": {
          "name": "user_recos_tv_series_user_id_fkey",
          "tableFrom": "user_recos_tv_series",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "user_recos_tv_series_comment_check": {
          "name": "user_recos_tv_series_comment_check",
          "value": "length(comment) <= 180"
        },
        "user_recos_tv_series_unique_user_id_sender_id": {
          "name": "user_recos_tv_series_unique_user_id_sender_id",
          "value": "user_id <> sender_id"
        }
      },
      "policies": {
        "Only friends user can insert.": {
          "name": "Only friends user can insert.",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "((sender_id = ( SELECT auth.uid() AS uid)) AND (status = 'active'::reco_status) AND utils_check_user_friendship(user_id, ( SELECT auth.uid() AS uid)))"
        },
        "Owner or sender can see": {
          "name": "Owner or sender can see",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["authenticated"]
        },
        "Sender can update comment only & User can change status": {
          "name": "Sender can update comment only & User can change status",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"]
        }
      },
      "isRLSEnabled": true
    },
    "public.user_activities_tv_series": {
      "name": "user_activities_tv_series",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "user_activities_tv_series_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "tv_series_id": {
          "name": "tv_series_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "is_liked": {
          "name": "is_liked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "liked_at": {
          "name": "liked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "rating": {
          "name": "rating",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "rated_at": {
          "name": "rated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "watched_date": {
          "name": "watched_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_activities_tv_series_created_at": {
          "name": "idx_user_activities_tv_series_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_activities_tv_series_rating": {
          "name": "idx_user_activities_tv_series_rating",
          "columns": [
            {
              "expression": "rating",
              "asc": true,
              "nulls": "last",
              "opclass": "int2_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_activities_tv_series_tv_series_id": {
          "name": "idx_user_activities_tv_series_tv_series_id",
          "columns": [
            {
              "expression": "tv_series_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_activities_tv_series_updated_at": {
          "name": "idx_user_activities_tv_series_updated_at",
          "columns": [
            {
              "expression": "updated_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_activities_tv_series_user_id": {
          "name": "idx_user_activities_tv_series_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_activities_tv_series_watched_date": {
          "name": "idx_user_activities_tv_series_watched_date",
          "columns": [
            {
              "expression": "watched_date",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_activities_tv_series_tv_series_id_fkey": {
          "name": "user_activities_tv_series_tv_series_id_fkey",
          "tableFrom": "user_activities_tv_series",
          "tableTo": "tmdb_tv_series",
          "schemaTo": "public",
          "columnsFrom": ["tv_series_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "user_activities_tv_series_user_id_fkey": {
          "name": "user_activities_tv_series_user_id_fkey",
          "tableFrom": "user_activities_tv_series",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "user_activities_tv_series_rating_check": {
          "name": "user_activities_tv_series_rating_check",
          "value": "(rating >= 1) AND (rating <= 10)"
        }
      },
      "policies": {
        "User can delete their own activity": {
          "name": "User can delete their own activity",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"],
          "using": "(( SELECT auth.uid() AS uid) = user_id)"
        },
        "User can insert their own activity": {
          "name": "User can insert their own activity",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"]
        },
        "User can update their own activity": {
          "name": "User can update their own activity",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"]
        },
        "Users can see if user is public or if you are friend with him": {
          "name": "Users can see if user is public or if you are friend with him",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"]
        }
      },
      "isRLSEnabled": true
    },
    "public.user_activities_movie": {
      "name": "user_activities_movie",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "user_activities_movie_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "is_liked": {
          "name": "is_liked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "liked_at": {
          "name": "liked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "rating": {
          "name": "rating",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "rated_at": {
          "name": "rated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "watched_date": {
          "name": "watched_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_activities_movie_created_at": {
          "name": "idx_user_activities_movie_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_activities_movie_movie_id": {
          "name": "idx_user_activities_movie_movie_id",
          "columns": [
            {
              "expression": "movie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_activities_movie_rating": {
          "name": "idx_user_activities_movie_rating",
          "columns": [
            {
              "expression": "rating",
              "asc": true,
              "nulls": "last",
              "opclass": "int2_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_activities_movie_updated_at": {
          "name": "idx_user_activities_movie_updated_at",
          "columns": [
            {
              "expression": "updated_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_activities_movie_user_id": {
          "name": "idx_user_activities_movie_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_activities_movie_watched_date": {
          "name": "idx_user_activities_movie_watched_date",
          "columns": [
            {
              "expression": "watched_date",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_activities_movie_movie_id_fkey": {
          "name": "user_activities_movie_movie_id_fkey",
          "tableFrom": "user_activities_movie",
          "tableTo": "tmdb_movie",
          "schemaTo": "public",
          "columnsFrom": ["movie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_activities_movie_user_id_fkey": {
          "name": "user_activities_movie_user_id_fkey",
          "tableFrom": "user_activities_movie",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "user_activities_movie_rating_check": {
          "name": "user_activities_movie_rating_check",
          "value": "(rating >= 1) AND (rating <= 10)"
        }
      },
      "policies": {
        "User can insert their own activity": {
          "name": "User can insert their own activity",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "(( SELECT auth.uid() AS uid) = user_id)"
        },
        "User can update their own activity": {
          "name": "User can update their own activity",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"]
        },
        "Users can see if user is public or if you are friend with him": {
          "name": "Users can see if user is public or if you are friend with him",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"]
        },
        "User can delete their own activity": {
          "name": "User can delete their own activity",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"]
        }
      },
      "isRLSEnabled": true
    },
    "public.user_person_follower": {
      "name": "user_person_follower",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "user_person_follower_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "person_id": {
          "name": "person_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_user_person_follower_created_at": {
          "name": "idx_user_person_follower_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_person_follower_person_id": {
          "name": "idx_user_person_follower_person_id",
          "columns": [
            {
              "expression": "person_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_person_follower_user_id": {
          "name": "idx_user_person_follower_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_person_follower_person_id_fkey": {
          "name": "user_person_follower_person_id_fkey",
          "tableFrom": "user_person_follower",
          "tableTo": "tmdb_person",
          "schemaTo": "public",
          "columnsFrom": ["person_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "user_person_follower_user_id_fkey": {
          "name": "user_person_follower_user_id_fkey",
          "tableFrom": "user_person_follower",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Users can delete their own followee": {
          "name": "Users can delete their own followee",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"],
          "using": "(( SELECT auth.uid() AS uid) = user_id)"
        },
        "Users can insert their own followee": {
          "name": "Users can insert their own followee",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"]
        },
        "People can see if user is public or if you are friend with him": {
          "name": "People can see if user is public or if you are friend with him",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["authenticated"]
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_department_translation": {
      "name": "tmdb_department_translation",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_department_translation_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "language": {
          "name": "language",
          "type": "language_app",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "department": {
          "name": "department",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_job": {
      "name": "tmdb_job",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_job_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_department": {
      "name": "tmdb_department",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_department_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_job_translation": {
      "name": "tmdb_job_translation",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_job_translation_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "language": {
          "name": "language",
          "type": "language_app",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "department_id": {
          "name": "department_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "job": {
          "name": "job",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tmdb_job_translation_department_id_fkey": {
          "name": "tmdb_job_translation_department_id_fkey",
          "tableFrom": "tmdb_job_translation",
          "tableTo": "tmdb_department",
          "schemaTo": "public",
          "columnsFrom": ["department_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.feed": {
      "name": "feed",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "feed_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "activity_type": {
          "name": "activity_type",
          "type": "feed_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "activity_id": {
          "name": "activity_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_feed_activity_type_activity_id": {
          "name": "idx_feed_activity_type_activity_id",
          "columns": [
            {
              "expression": "activity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            },
            {
              "expression": "activity_id",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_feed_user_id_created_at_desc": {
          "name": "idx_feed_user_id_created_at_desc",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "feed_user_id_fkey": {
          "name": "feed_user_id_fkey",
          "tableFrom": "feed",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable select for users based on user_id": {
          "name": "Enable select for users based on user_id",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "(( SELECT auth.uid() AS uid) = user_id)"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_person_also_known_as": {
      "name": "tmdb_person_also_known_as",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_person_also_known_as_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "person": {
          "name": "person",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_tmdb_person_also_known_as_name": {
          "name": "idx_tmdb_person_also_known_as_name",
          "columns": [
            {
              "expression": "name",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_person_also_known_as_person_id": {
          "name": "idx_tmdb_person_also_known_as_person_id",
          "columns": [
            {
              "expression": "person",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_person_also_known_as_person_fkey": {
          "name": "tmdb_person_also_known_as_person_fkey",
          "tableFrom": "tmdb_person_also_known_as",
          "tableTo": "tmdb_person",
          "schemaTo": "public",
          "columnsFrom": ["person"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_person_translation": {
      "name": "tmdb_person_translation",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_person_translation_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "person": {
          "name": "person",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "biography": {
          "name": "biography",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "iso_639_1": {
          "name": "iso_639_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "iso_3166_1": {
          "name": "iso_3166_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_tmdb_person_translation_iso_3166_1": {
          "name": "idx_tmdb_person_translation_iso_3166_1",
          "columns": [
            {
              "expression": "iso_3166_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_person_translation_iso_639_1": {
          "name": "idx_tmdb_person_translation_iso_639_1",
          "columns": [
            {
              "expression": "iso_639_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_person_translation_iso_639_1_iso_3166_1": {
          "name": "idx_tmdb_person_translation_iso_639_1_iso_3166_1",
          "columns": [
            {
              "expression": "iso_639_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "iso_3166_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_person_translation_person": {
          "name": "idx_tmdb_person_translation_person",
          "columns": [
            {
              "expression": "person",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_person_translation_person_fkey": {
          "name": "tmdb_person_translation_person_fkey",
          "tableFrom": "tmdb_person_translation",
          "tableTo": "tmdb_person",
          "schemaTo": "public",
          "columnsFrom": ["person"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tmdb_person_translation_unique": {
          "columns": ["person", "iso_639_1", "iso_3166_1"],
          "nullsNotDistinct": false,
          "name": "tmdb_person_translation_unique"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_person_image": {
      "name": "tmdb_person_image",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_person_image_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "person": {
          "name": "person",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "aspect_ratio": {
          "name": "aspect_ratio",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "height": {
          "name": "height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "width": {
          "name": "width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "vote_average": {
          "name": "vote_average",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "vote_count": {
          "name": "vote_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_tmdb_person_image_person": {
          "name": "idx_tmdb_person_image_person",
          "columns": [
            {
              "expression": "person",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_person_image_vote_average": {
          "name": "idx_tmdb_person_image_vote_average",
          "columns": [
            {
              "expression": "vote_average",
              "asc": true,
              "nulls": "last",
              "opclass": "float4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_person_image_person_fkey": {
          "name": "tmdb_person_image_person_fkey",
          "tableFrom": "tmdb_person_image",
          "tableTo": "tmdb_person",
          "schemaTo": "public",
          "columnsFrom": ["person"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_person_external_id": {
      "name": "tmdb_person_external_id",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_person_external_id_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "person": {
          "name": "person",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_tmdb_person_external_id_person": {
          "name": "idx_tmdb_person_external_id_person",
          "columns": [
            {
              "expression": "person",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_person_external_id_source": {
          "name": "idx_tmdb_person_external_id_source",
          "columns": [
            {
              "expression": "source",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_person_external_id_person_fkey": {
          "name": "tmdb_person_external_id_person_fkey",
          "tableFrom": "tmdb_person_external_id",
          "tableTo": "tmdb_person",
          "schemaTo": "public",
          "columnsFrom": ["person"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_tv_series_seasons": {
      "name": "tmdb_tv_series_seasons",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_tv_series_seasons_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "serie_id": {
          "name": "serie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "season_number": {
          "name": "season_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "vote_average": {
          "name": "vote_average",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "vote_count": {
          "name": "vote_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "poster_path": {
          "name": "poster_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_tmdb_tv_series_seasons_season_number": {
          "name": "idx_tmdb_tv_series_seasons_season_number",
          "columns": [
            {
              "expression": "season_number",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_seasons_serie_id": {
          "name": "idx_tmdb_tv_series_seasons_serie_id",
          "columns": [
            {
              "expression": "serie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_tv_series_seasons_serie_id_fkey": {
          "name": "tmdb_tv_series_seasons_serie_id_fkey",
          "tableFrom": "tmdb_tv_series_seasons",
          "tableTo": "tmdb_tv_series",
          "schemaTo": "public",
          "columnsFrom": ["serie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_tv_series_episodes": {
      "name": "tmdb_tv_series_episodes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_tv_series_episodes_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "season_id": {
          "name": "season_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "air_date": {
          "name": "air_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "episode_number": {
          "name": "episode_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "episode_type": {
          "name": "episode_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "overview": {
          "name": "overview",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "production_code": {
          "name": "production_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "runtime": {
          "name": "runtime",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "still_path": {
          "name": "still_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vote_average": {
          "name": "vote_average",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "vote_count": {
          "name": "vote_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        }
      },
      "indexes": {
        "idx_tmdb_tv_series_episodes_episode_number": {
          "name": "idx_tmdb_tv_series_episodes_episode_number",
          "columns": [
            {
              "expression": "episode_number",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_episodes_season_id": {
          "name": "idx_tmdb_tv_series_episodes_season_id",
          "columns": [
            {
              "expression": "season_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_tv_series_episodes_season_id_fkey": {
          "name": "tmdb_tv_series_episodes_season_id_fkey",
          "tableFrom": "tmdb_tv_series_episodes",
          "tableTo": "tmdb_tv_series_seasons",
          "schemaTo": "public",
          "columnsFrom": ["season_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_tv_series_episodes_credits": {
      "name": "tmdb_tv_series_episodes_credits",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_tv_series_episodes_credits_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "credit_id": {
          "name": "credit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "episode_id": {
          "name": "episode_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_tmdb_tv_series_episodes_credits_credit_id": {
          "name": "idx_tmdb_tv_series_episodes_credits_credit_id",
          "columns": [
            {
              "expression": "credit_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_episodes_credits_episode_id": {
          "name": "idx_tmdb_tv_series_episodes_credits_episode_id",
          "columns": [
            {
              "expression": "episode_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_tv_series_episodes_credits_credit_id_fkey": {
          "name": "tmdb_tv_series_episodes_credits_credit_id_fkey",
          "tableFrom": "tmdb_tv_series_episodes_credits",
          "tableTo": "tmdb_tv_series_credits",
          "schemaTo": "public",
          "columnsFrom": ["credit_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "tmdb_tv_series_episodes_credits_episode_id_fkey": {
          "name": "tmdb_tv_series_episodes_credits_episode_id_fkey",
          "tableFrom": "tmdb_tv_series_episodes_credits",
          "tableTo": "tmdb_tv_series_episodes",
          "schemaTo": "public",
          "columnsFrom": ["episode_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.playlists_featured": {
      "name": "playlists_featured",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "playlists_featured_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "playlists_featured_id_fkey": {
          "name": "playlists_featured_id_fkey",
          "tableFrom": "playlists_featured",
          "tableTo": "playlists",
          "schemaTo": "public",
          "columnsFrom": ["id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.playlists_saved": {
      "name": "playlists_saved",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "playlists_saved_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "playlist_id": {
          "name": "playlist_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_playlists_saved_playlist_id": {
          "name": "idx_playlists_saved_playlist_id",
          "columns": [
            {
              "expression": "playlist_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_playlists_saved_user_id": {
          "name": "idx_playlists_saved_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "playlists_saved_playlist_id_fkey": {
          "name": "playlists_saved_playlist_id_fkey",
          "tableFrom": "playlists_saved",
          "tableTo": "playlists",
          "schemaTo": "public",
          "columnsFrom": ["playlist_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "playlists_saved_user_id_fkey": {
          "name": "playlists_saved_user_id_fkey",
          "tableFrom": "playlists_saved",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "User can insert his own saved playlist": {
          "name": "User can insert his own saved playlist",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "((user_id = ( SELECT auth.uid() AS uid)) AND (EXISTS ( SELECT 1\n   FROM playlists\n  WHERE (playlists.id = playlists_saved.playlist_id))) AND (NOT utils_check_playlist_owner(( SELECT auth.uid() AS uid), playlist_id)))"
        },
        "Saved playlists are viewable owner and playlist owner": {
          "name": "Saved playlists are viewable owner and playlist owner",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["authenticated"]
        },
        "User can delete his own saved playlist": {
          "name": "User can delete his own saved playlist",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"]
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_tv_series_translations": {
      "name": "tmdb_tv_series_translations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_tv_serie_translations_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "serie_id": {
          "name": "serie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "overview": {
          "name": "overview",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "homepage": {
          "name": "homepage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tagline": {
          "name": "tagline",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "iso_639_1": {
          "name": "iso_639_1",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "iso_3166_1": {
          "name": "iso_3166_1",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_tmdb_tv_series_translations_iso_3166_1": {
          "name": "idx_tmdb_tv_series_translations_iso_3166_1",
          "columns": [
            {
              "expression": "iso_3166_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_translations_iso_639_1": {
          "name": "idx_tmdb_tv_series_translations_iso_639_1",
          "columns": [
            {
              "expression": "iso_639_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_translations_serie_id": {
          "name": "idx_tmdb_tv_series_translations_serie_id",
          "columns": [
            {
              "expression": "serie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_tv_serie_translations_serie_id_fkey": {
          "name": "tmdb_tv_serie_translations_serie_id_fkey",
          "tableFrom": "tmdb_tv_series_translations",
          "tableTo": "tmdb_tv_series",
          "schemaTo": "public",
          "columnsFrom": ["serie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_tv_series_production_countries": {
      "name": "tmdb_tv_series_production_countries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_tv_series_production_countries_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "serie_id": {
          "name": "serie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "iso_3166_1": {
          "name": "iso_3166_1",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_tmdb_tv_series_production_countries_iso_3166_1": {
          "name": "idx_tmdb_tv_series_production_countries_iso_3166_1",
          "columns": [
            {
              "expression": "iso_3166_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_production_countries_serie_id": {
          "name": "idx_tmdb_tv_series_production_countries_serie_id",
          "columns": [
            {
              "expression": "serie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_tv_series_production_countries_iso_3166_1_fkey": {
          "name": "tmdb_tv_series_production_countries_iso_3166_1_fkey",
          "tableFrom": "tmdb_tv_series_production_countries",
          "tableTo": "tmdb_country",
          "schemaTo": "public",
          "columnsFrom": ["iso_3166_1"],
          "columnsTo": ["iso_3166_1"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "tmdb_tv_series_production_countries_serie_id_fkey": {
          "name": "tmdb_tv_series_production_countries_serie_id_fkey",
          "tableFrom": "tmdb_tv_series_production_countries",
          "tableTo": "tmdb_tv_series",
          "schemaTo": "public",
          "columnsFrom": ["serie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_tv_series_genres": {
      "name": "tmdb_tv_series_genres",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_tv_series_genres_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "serie_id": {
          "name": "serie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "genre_id": {
          "name": "genre_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_tmdb_tv_series_genres_genre_id": {
          "name": "idx_tmdb_tv_series_genres_genre_id",
          "columns": [
            {
              "expression": "genre_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_genres_serie_id": {
          "name": "idx_tmdb_tv_series_genres_serie_id",
          "columns": [
            {
              "expression": "serie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_tv_series_genres_genre_id_fkey": {
          "name": "tmdb_tv_series_genres_genre_id_fkey",
          "tableFrom": "tmdb_tv_series_genres",
          "tableTo": "tmdb_genre",
          "schemaTo": "public",
          "columnsFrom": ["genre_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "tmdb_tv_series_genres_serie_id_fkey": {
          "name": "tmdb_tv_series_genres_serie_id_fkey",
          "tableFrom": "tmdb_tv_series_genres",
          "tableTo": "tmdb_tv_series",
          "schemaTo": "public",
          "columnsFrom": ["serie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_tv_series_languages": {
      "name": "tmdb_tv_series_languages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_tv_series_languages_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "serie_id": {
          "name": "serie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "iso_639_1": {
          "name": "iso_639_1",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_tmdb_tv_series_languages_iso_639_1": {
          "name": "idx_tmdb_tv_series_languages_iso_639_1",
          "columns": [
            {
              "expression": "iso_639_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_languages_serie_id": {
          "name": "idx_tmdb_tv_series_languages_serie_id",
          "columns": [
            {
              "expression": "serie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_tv_series_languages_iso_639_1_fkey": {
          "name": "tmdb_tv_series_languages_iso_639_1_fkey",
          "tableFrom": "tmdb_tv_series_languages",
          "tableTo": "tmdb_language",
          "schemaTo": "public",
          "columnsFrom": ["iso_639_1"],
          "columnsTo": ["iso_639_1"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "tmdb_tv_series_languages_serie_id_fkey": {
          "name": "tmdb_tv_series_languages_serie_id_fkey",
          "tableFrom": "tmdb_tv_series_languages",
          "tableTo": "tmdb_tv_series",
          "schemaTo": "public",
          "columnsFrom": ["serie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_tv_series_networks": {
      "name": "tmdb_tv_series_networks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_tv_series_networks_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "serie_id": {
          "name": "serie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "network_id": {
          "name": "network_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_tmdb_tv_series_networks_network_id": {
          "name": "idx_tmdb_tv_series_networks_network_id",
          "columns": [
            {
              "expression": "network_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_networks_serie_id": {
          "name": "idx_tmdb_tv_series_networks_serie_id",
          "columns": [
            {
              "expression": "serie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_tv_series_networks_network_id_fkey": {
          "name": "tmdb_tv_series_networks_network_id_fkey",
          "tableFrom": "tmdb_tv_series_networks",
          "tableTo": "tmdb_network",
          "schemaTo": "public",
          "columnsFrom": ["network_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "tmdb_tv_series_networks_serie_id_fkey": {
          "name": "tmdb_tv_series_networks_serie_id_fkey",
          "tableFrom": "tmdb_tv_series_networks",
          "tableTo": "tmdb_tv_series",
          "schemaTo": "public",
          "columnsFrom": ["serie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_tv_series_origin_country": {
      "name": "tmdb_tv_series_origin_country",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_tv_series_origin_country_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "serie_id": {
          "name": "serie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "iso_3166_1": {
          "name": "iso_3166_1",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_tmdb_tv_series_origin_country_iso_3166_1": {
          "name": "idx_tmdb_tv_series_origin_country_iso_3166_1",
          "columns": [
            {
              "expression": "iso_3166_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_origin_country_serie_id": {
          "name": "idx_tmdb_tv_series_origin_country_serie_id",
          "columns": [
            {
              "expression": "serie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_tv_series_origin_country_iso_3166_1_fkey": {
          "name": "tmdb_tv_series_origin_country_iso_3166_1_fkey",
          "tableFrom": "tmdb_tv_series_origin_country",
          "tableTo": "tmdb_country",
          "schemaTo": "public",
          "columnsFrom": ["iso_3166_1"],
          "columnsTo": ["iso_3166_1"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "tmdb_tv_series_origin_country_serie_id_fkey": {
          "name": "tmdb_tv_series_origin_country_serie_id_fkey",
          "tableFrom": "tmdb_tv_series_origin_country",
          "tableTo": "tmdb_tv_series",
          "schemaTo": "public",
          "columnsFrom": ["serie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_tv_series_spoken_languages": {
      "name": "tmdb_tv_series_spoken_languages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_tv_series_spoken_languages_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "serie_id": {
          "name": "serie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "iso_639_1": {
          "name": "iso_639_1",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_tmdb_tv_series_spoken_languages_iso_639_1": {
          "name": "idx_tmdb_tv_series_spoken_languages_iso_639_1",
          "columns": [
            {
              "expression": "iso_639_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_spoken_languages_serie_id": {
          "name": "idx_tmdb_tv_series_spoken_languages_serie_id",
          "columns": [
            {
              "expression": "serie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_tv_series_spoken_languages_iso_639_1_fkey": {
          "name": "tmdb_tv_series_spoken_languages_iso_639_1_fkey",
          "tableFrom": "tmdb_tv_series_spoken_languages",
          "tableTo": "tmdb_language",
          "schemaTo": "public",
          "columnsFrom": ["iso_639_1"],
          "columnsTo": ["iso_639_1"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "tmdb_tv_series_spoken_languages_serie_id_fkey": {
          "name": "tmdb_tv_series_spoken_languages_serie_id_fkey",
          "tableFrom": "tmdb_tv_series_spoken_languages",
          "tableTo": "tmdb_tv_series",
          "schemaTo": "public",
          "columnsFrom": ["serie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_tv_series_images": {
      "name": "tmdb_tv_series_images",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_tv_series_images_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "serie_id": {
          "name": "serie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "image_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "aspect_ratio": {
          "name": "aspect_ratio",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "height": {
          "name": "height",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "width": {
          "name": "width",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "vote_average": {
          "name": "vote_average",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "vote_count": {
          "name": "vote_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "iso_639_1": {
          "name": "iso_639_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_tmdb_tv_series_images_iso_639_1": {
          "name": "idx_tmdb_tv_series_images_iso_639_1",
          "columns": [
            {
              "expression": "iso_639_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_images_serie_id": {
          "name": "idx_tmdb_tv_series_images_serie_id",
          "columns": [
            {
              "expression": "serie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_images_type": {
          "name": "idx_tmdb_tv_series_images_type",
          "columns": [
            {
              "expression": "type",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_images_vote_average": {
          "name": "idx_tmdb_tv_series_images_vote_average",
          "columns": [
            {
              "expression": "vote_average",
              "asc": true,
              "nulls": "last",
              "opclass": "float4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_tv_series_images_serie_id_fkey": {
          "name": "tmdb_tv_series_images_serie_id_fkey",
          "tableFrom": "tmdb_tv_series_images",
          "tableTo": "tmdb_tv_series",
          "schemaTo": "public",
          "columnsFrom": ["serie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_tv_series_production_companies": {
      "name": "tmdb_tv_series_production_companies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_tv_series_production_companies_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "serie_id": {
          "name": "serie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_tmdb_tv_series_production_companies_company_id": {
          "name": "idx_tmdb_tv_series_production_companies_company_id",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_production_companies_serie_id": {
          "name": "idx_tmdb_tv_series_production_companies_serie_id",
          "columns": [
            {
              "expression": "serie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_tv_series_production_companies_company_id_fkey": {
          "name": "tmdb_tv_series_production_companies_company_id_fkey",
          "tableFrom": "tmdb_tv_series_production_companies",
          "tableTo": "tmdb_company",
          "schemaTo": "public",
          "columnsFrom": ["company_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "tmdb_tv_series_production_companies_serie_id_fkey": {
          "name": "tmdb_tv_series_production_companies_serie_id_fkey",
          "tableFrom": "tmdb_tv_series_production_companies",
          "tableTo": "tmdb_tv_series",
          "schemaTo": "public",
          "columnsFrom": ["serie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_tv_series_alternative_titles": {
      "name": "tmdb_tv_series_alternative_titles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_tv_series_alternative_titles_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "serie_id": {
          "name": "serie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "iso_3166_1": {
          "name": "iso_3166_1",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_tmdb_tv_series_alternative_titles_iso_3166_1": {
          "name": "idx_tmdb_tv_series_alternative_titles_iso_3166_1",
          "columns": [
            {
              "expression": "iso_3166_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_alternative_titles_serie_id": {
          "name": "idx_tmdb_tv_series_alternative_titles_serie_id",
          "columns": [
            {
              "expression": "serie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_tv_series_alternative_titles_serie_id_fkey": {
          "name": "tmdb_tv_series_alternative_titles_serie_id_fkey",
          "tableFrom": "tmdb_tv_series_alternative_titles",
          "tableTo": "tmdb_tv_series",
          "schemaTo": "public",
          "columnsFrom": ["serie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_tv_series_content_ratings": {
      "name": "tmdb_tv_series_content_ratings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_tv_series_content_ratings_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "serie_id": {
          "name": "serie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "iso_3166_1": {
          "name": "iso_3166_1",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "rating": {
          "name": "rating",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "descriptors": {
          "name": "descriptors",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_tmdb_tv_series_content_ratings_iso_3166_1": {
          "name": "idx_tmdb_tv_series_content_ratings_iso_3166_1",
          "columns": [
            {
              "expression": "iso_3166_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_content_ratings_serie_id": {
          "name": "idx_tmdb_tv_series_content_ratings_serie_id",
          "columns": [
            {
              "expression": "serie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_tv_series_content_ratings_serie_id_fkey": {
          "name": "tmdb_tv_series_content_ratings_serie_id_fkey",
          "tableFrom": "tmdb_tv_series_content_ratings",
          "tableTo": "tmdb_tv_series",
          "schemaTo": "public",
          "columnsFrom": ["serie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_tv_series_keywords": {
      "name": "tmdb_tv_series_keywords",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_tv_series_keywords_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "serie_id": {
          "name": "serie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "keyword_id": {
          "name": "keyword_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_tmdb_tv_series_keywords_keyword_id": {
          "name": "idx_tmdb_tv_series_keywords_keyword_id",
          "columns": [
            {
              "expression": "keyword_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_keywords_serie_id": {
          "name": "idx_tmdb_tv_series_keywords_serie_id",
          "columns": [
            {
              "expression": "serie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_tv_series_keywords_keyword_id_fkey": {
          "name": "tmdb_tv_series_keywords_keyword_id_fkey",
          "tableFrom": "tmdb_tv_series_keywords",
          "tableTo": "tmdb_keyword",
          "schemaTo": "public",
          "columnsFrom": ["keyword_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "tmdb_tv_series_keywords_serie_id_fkey": {
          "name": "tmdb_tv_series_keywords_serie_id_fkey",
          "tableFrom": "tmdb_tv_series_keywords",
          "tableTo": "tmdb_tv_series",
          "schemaTo": "public",
          "columnsFrom": ["serie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_tv_series_seasons_translations": {
      "name": "tmdb_tv_series_seasons_translations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_tv_series_seasons_translations_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "season_id": {
          "name": "season_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "overview": {
          "name": "overview",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "iso_639_1": {
          "name": "iso_639_1",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "iso_3166_1": {
          "name": "iso_3166_1",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_tmdb_tv_series_seasons_translations_iso_3166_1": {
          "name": "idx_tmdb_tv_series_seasons_translations_iso_3166_1",
          "columns": [
            {
              "expression": "iso_3166_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_seasons_translations_iso_639_1": {
          "name": "idx_tmdb_tv_series_seasons_translations_iso_639_1",
          "columns": [
            {
              "expression": "iso_639_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_seasons_translations_season_id": {
          "name": "idx_tmdb_tv_series_seasons_translations_season_id",
          "columns": [
            {
              "expression": "season_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_tv_series_seasons_translations_season_id_fkey": {
          "name": "tmdb_tv_series_seasons_translations_season_id_fkey",
          "tableFrom": "tmdb_tv_series_seasons_translations",
          "tableTo": "tmdb_tv_series_seasons",
          "schemaTo": "public",
          "columnsFrom": ["season_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_tv_series_external_ids": {
      "name": "tmdb_tv_series_external_ids",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_tv_series_external_ids_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "serie_id": {
          "name": "serie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_tmdb_tv_series_external_ids_serie_id": {
          "name": "idx_tmdb_tv_series_external_ids_serie_id",
          "columns": [
            {
              "expression": "serie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_tv_series_external_ids_serie_id_fkey": {
          "name": "tmdb_tv_series_external_ids_serie_id_fkey",
          "tableFrom": "tmdb_tv_series_external_ids",
          "tableTo": "tmdb_tv_series",
          "schemaTo": "public",
          "columnsFrom": ["serie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_person": {
      "name": "tmdb_person",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_person_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "adult": {
          "name": "adult",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "birthday": {
          "name": "birthday",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "deathday": {
          "name": "deathday",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "gender": {
          "name": "gender",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "homepage": {
          "name": "homepage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "imdb_id": {
          "name": "imdb_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "known_for_department": {
          "name": "known_for_department",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "place_of_birth": {
          "name": "place_of_birth",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "popularity": {
          "name": "popularity",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_tmdb_person_name_trgm": {
          "name": "idx_tmdb_person_name_trgm",
          "columns": [
            {
              "expression": "name",
              "asc": true,
              "nulls": "last",
              "opclass": "gin_trgm_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_tmdb_person_popularity": {
          "name": "idx_tmdb_person_popularity",
          "columns": [
            {
              "expression": "popularity",
              "asc": true,
              "nulls": "last",
              "opclass": "float4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_person_gender_fkey": {
          "name": "tmdb_person_gender_fkey",
          "tableFrom": "tmdb_person",
          "tableTo": "tmdb_gender",
          "schemaTo": "public",
          "columnsFrom": ["gender"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_tv_series_seasons_credits": {
      "name": "tmdb_tv_series_seasons_credits",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_tv_series_seasons_credits_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "credit_id": {
          "name": "credit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "season_id": {
          "name": "season_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_tmdb_tv_series_seasons_credits_credit_id": {
          "name": "idx_tmdb_tv_series_seasons_credits_credit_id",
          "columns": [
            {
              "expression": "credit_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_seasons_credits_season_id": {
          "name": "idx_tmdb_tv_series_seasons_credits_season_id",
          "columns": [
            {
              "expression": "season_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_tv_series_seasons_credits_credit_id_fkey": {
          "name": "tmdb_tv_series_seasons_credits_credit_id_fkey",
          "tableFrom": "tmdb_tv_series_seasons_credits",
          "tableTo": "tmdb_tv_series_credits",
          "schemaTo": "public",
          "columnsFrom": ["credit_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "tmdb_tv_series_seasons_credits_season_id_fkey": {
          "name": "tmdb_tv_series_seasons_credits_season_id_fkey",
          "tableFrom": "tmdb_tv_series_seasons_credits",
          "tableTo": "tmdb_tv_series_seasons",
          "schemaTo": "public",
          "columnsFrom": ["season_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_tv_series_videos": {
      "name": "tmdb_tv_series_videos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "serie_id": {
          "name": "serie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "iso_639_1": {
          "name": "iso_639_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "iso_3166_1": {
          "name": "iso_3166_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "site": {
          "name": "site",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "size": {
          "name": "size",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "official": {
          "name": "official",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_tmdb_tv_series_videos_iso_3166_1": {
          "name": "idx_tmdb_tv_series_videos_iso_3166_1",
          "columns": [
            {
              "expression": "iso_3166_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_videos_iso_639_1": {
          "name": "idx_tmdb_tv_series_videos_iso_639_1",
          "columns": [
            {
              "expression": "iso_639_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_videos_serie_id": {
          "name": "idx_tmdb_tv_series_videos_serie_id",
          "columns": [
            {
              "expression": "serie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_videos_type": {
          "name": "idx_tmdb_tv_series_videos_type",
          "columns": [
            {
              "expression": "type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_tv_series_videos_serie_id_fkey": {
          "name": "tmdb_tv_series_videos_serie_id_fkey",
          "tableFrom": "tmdb_tv_series_videos",
          "tableTo": "tmdb_tv_series",
          "schemaTo": "public",
          "columnsFrom": ["serie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_tv_series_credits": {
      "name": "tmdb_tv_series_credits",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "serie_id": {
          "name": "serie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "person_id": {
          "name": "person_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "department": {
          "name": "department",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "job": {
          "name": "job",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_tmdb_tv_series_credits_department": {
          "name": "idx_tmdb_tv_series_credits_department",
          "columns": [
            {
              "expression": "department",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_credits_job": {
          "name": "idx_tmdb_tv_series_credits_job",
          "columns": [
            {
              "expression": "job",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_credits_person_id": {
          "name": "idx_tmdb_tv_series_credits_person_id",
          "columns": [
            {
              "expression": "person_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_credits_serie_id": {
          "name": "idx_tmdb_tv_series_credits_serie_id",
          "columns": [
            {
              "expression": "serie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_tv_series_credits_serie_id_creator": {
          "name": "idx_tmdb_tv_series_credits_serie_id_creator",
          "columns": [
            {
              "expression": "serie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(job = 'Creator'::text)",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_tv_series_credits_person_id_fkey": {
          "name": "tmdb_tv_series_credits_person_id_fkey",
          "tableFrom": "tmdb_tv_series_credits",
          "tableTo": "tmdb_person",
          "schemaTo": "public",
          "columnsFrom": ["person_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "tmdb_tv_series_credits_serie_id_fkey": {
          "name": "tmdb_tv_series_credits_serie_id_fkey",
          "tableFrom": "tmdb_tv_series_credits",
          "tableTo": "tmdb_tv_series",
          "schemaTo": "public",
          "columnsFrom": ["serie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_tv_series": {
      "name": "tmdb_tv_series",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_tv_serie_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "adult": {
          "name": "adult",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "in_production": {
          "name": "in_production",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "original_language": {
          "name": "original_language",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "original_name": {
          "name": "original_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "popularity": {
          "name": "popularity",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vote_average": {
          "name": "vote_average",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "vote_count": {
          "name": "vote_count",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "number_of_episodes": {
          "name": "number_of_episodes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "number_of_seasons": {
          "name": "number_of_seasons",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "first_air_date": {
          "name": "first_air_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "last_air_date": {
          "name": "last_air_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_tmdb_tv_series_popularity": {
          "name": "idx_tmdb_tv_series_popularity",
          "columns": [
            {
              "expression": "popularity",
              "asc": true,
              "nulls": "last",
              "opclass": "float4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_genre_translation": {
      "name": "tmdb_genre_translation",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_genre_translation_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "genre": {
          "name": "genre",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "language": {
          "name": "language",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_tmdb_genre_translation_genre": {
          "name": "idx_tmdb_genre_translation_genre",
          "columns": [
            {
              "expression": "genre",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_genre_translation_language": {
          "name": "idx_tmdb_genre_translation_language",
          "columns": [
            {
              "expression": "language",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_genre_translation_genre_fkey": {
          "name": "tmdb_genre_translation_genre_fkey",
          "tableFrom": "tmdb_genre_translation",
          "tableTo": "tmdb_genre",
          "schemaTo": "public",
          "columnsFrom": ["genre"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_language_genre": {
          "columns": ["genre", "language"],
          "nullsNotDistinct": false,
          "name": "unique_language_genre"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_movie_credits": {
      "name": "tmdb_movie_credits",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "person_id": {
          "name": "person_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "department": {
          "name": "department",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "job": {
          "name": "job",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_tmdb_movie_credits_job": {
          "name": "idx_tmdb_movie_credits_job",
          "columns": [
            {
              "expression": "job",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_movie_credits_movie_id_director": {
          "name": "idx_tmdb_movie_credits_movie_id_director",
          "columns": [
            {
              "expression": "movie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(job = 'Director'::text)",
          "with": {}
        },
        "tmdb_movie_credits_department": {
          "name": "tmdb_movie_credits_department",
          "columns": [
            {
              "expression": "department",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tmdb_movie_credits_movie_id": {
          "name": "tmdb_movie_credits_movie_id",
          "columns": [
            {
              "expression": "movie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tmdb_movie_credits_person_id": {
          "name": "tmdb_movie_credits_person_id",
          "columns": [
            {
              "expression": "person_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_movie_credits_movie_id_fkey": {
          "name": "tmdb_movie_credits_movie_id_fkey",
          "tableFrom": "tmdb_movie_credits",
          "tableTo": "tmdb_movie",
          "schemaTo": "public",
          "columnsFrom": ["movie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "tmdb_movie_credits_person_id_fkey": {
          "name": "tmdb_movie_credits_person_id_fkey",
          "tableFrom": "tmdb_movie_credits",
          "tableTo": "tmdb_person",
          "schemaTo": "public",
          "columnsFrom": ["person_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_movie_genres": {
      "name": "tmdb_movie_genres",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_movie_genre_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "genre_id": {
          "name": "genre_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "tmdb_movie_genre_genre_id": {
          "name": "tmdb_movie_genre_genre_id",
          "columns": [
            {
              "expression": "genre_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tmdb_movie_genre_movie_id": {
          "name": "tmdb_movie_genre_movie_id",
          "columns": [
            {
              "expression": "movie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_movie_genre_genre_id_fkey": {
          "name": "tmdb_movie_genre_genre_id_fkey",
          "tableFrom": "tmdb_movie_genres",
          "tableTo": "tmdb_genre",
          "schemaTo": "public",
          "columnsFrom": ["genre_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "tmdb_movie_genre_movie_id_fkey": {
          "name": "tmdb_movie_genre_movie_id_fkey",
          "tableFrom": "tmdb_movie_genres",
          "tableTo": "tmdb_movie",
          "schemaTo": "public",
          "columnsFrom": ["movie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_movie_genre_pair": {
          "columns": ["movie_id", "genre_id"],
          "nullsNotDistinct": false,
          "name": "unique_movie_genre_pair"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_movie_keywords": {
      "name": "tmdb_movie_keywords",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_movie_keyword_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "keyword_id": {
          "name": "keyword_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "tmdb_movie_keyword_keyword_id": {
          "name": "tmdb_movie_keyword_keyword_id",
          "columns": [
            {
              "expression": "keyword_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tmdb_movie_keyword_movie_id": {
          "name": "tmdb_movie_keyword_movie_id",
          "columns": [
            {
              "expression": "movie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_movie_keyword_keyword_id_fkey": {
          "name": "tmdb_movie_keyword_keyword_id_fkey",
          "tableFrom": "tmdb_movie_keywords",
          "tableTo": "tmdb_keyword",
          "schemaTo": "public",
          "columnsFrom": ["keyword_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "tmdb_movie_keyword_movie_id_fkey": {
          "name": "tmdb_movie_keyword_movie_id_fkey",
          "tableFrom": "tmdb_movie_keywords",
          "tableTo": "tmdb_movie",
          "schemaTo": "public",
          "columnsFrom": ["movie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_movie_production_companies": {
      "name": "tmdb_movie_production_companies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_movie_production_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "tmdb_movie_production_company_id": {
          "name": "tmdb_movie_production_company_id",
          "columns": [
            {
              "expression": "company_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tmdb_movie_production_movie_id": {
          "name": "tmdb_movie_production_movie_id",
          "columns": [
            {
              "expression": "movie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_movie_production_company_id_fkey": {
          "name": "tmdb_movie_production_company_id_fkey",
          "tableFrom": "tmdb_movie_production_companies",
          "tableTo": "tmdb_company",
          "schemaTo": "public",
          "columnsFrom": ["company_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "tmdb_movie_production_movie_id_fkey": {
          "name": "tmdb_movie_production_movie_id_fkey",
          "tableFrom": "tmdb_movie_production_companies",
          "tableTo": "tmdb_movie",
          "schemaTo": "public",
          "columnsFrom": ["movie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_movie_production_pair": {
          "columns": ["movie_id", "company_id"],
          "nullsNotDistinct": false,
          "name": "unique_movie_production_pair"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_movie_production_countries": {
      "name": "tmdb_movie_production_countries",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_movie_country_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "iso_3166_1": {
          "name": "iso_3166_1",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "tmdb_movie_country_country_id": {
          "name": "tmdb_movie_country_country_id",
          "columns": [
            {
              "expression": "iso_3166_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tmdb_movie_country_movie_id": {
          "name": "tmdb_movie_country_movie_id",
          "columns": [
            {
              "expression": "movie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_movie_country_country_id_fkey": {
          "name": "tmdb_movie_country_country_id_fkey",
          "tableFrom": "tmdb_movie_production_countries",
          "tableTo": "tmdb_country",
          "schemaTo": "public",
          "columnsFrom": ["iso_3166_1"],
          "columnsTo": ["iso_3166_1"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "tmdb_movie_country_movie_id_fkey": {
          "name": "tmdb_movie_country_movie_id_fkey",
          "tableFrom": "tmdb_movie_production_countries",
          "tableTo": "tmdb_movie",
          "schemaTo": "public",
          "columnsFrom": ["movie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_movie_country_pair": {
          "columns": ["movie_id", "iso_3166_1"],
          "nullsNotDistinct": false,
          "name": "unique_movie_country_pair"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_movie_release_dates": {
      "name": "tmdb_movie_release_dates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_movie_release_dates_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "iso_3166_1": {
          "name": "iso_3166_1",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "release_date": {
          "name": "release_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "certification": {
          "name": "certification",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "iso_639_1": {
          "name": "iso_639_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "release_type": {
          "name": "release_type",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true
        },
        "descriptors": {
          "name": "descriptors",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_tmdb_movie_release_dates_iso_3166_1": {
          "name": "idx_tmdb_movie_release_dates_iso_3166_1",
          "columns": [
            {
              "expression": "iso_3166_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_movie_release_dates_movie_id": {
          "name": "idx_tmdb_movie_release_dates_movie_id",
          "columns": [
            {
              "expression": "movie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_movie_release_dates_release_date": {
          "name": "idx_tmdb_movie_release_dates_release_date",
          "columns": [
            {
              "expression": "release_date",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_movie_release_dates_release_type": {
          "name": "idx_tmdb_movie_release_dates_release_type",
          "columns": [
            {
              "expression": "release_type",
              "asc": true,
              "nulls": "last",
              "opclass": "int2_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_movie_release_dates_iso_3166_1_fkey": {
          "name": "tmdb_movie_release_dates_iso_3166_1_fkey",
          "tableFrom": "tmdb_movie_release_dates",
          "tableTo": "tmdb_country",
          "schemaTo": "public",
          "columnsFrom": ["iso_3166_1"],
          "columnsTo": ["iso_3166_1"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "tmdb_movie_release_dates_iso_639_1_fkey": {
          "name": "tmdb_movie_release_dates_iso_639_1_fkey",
          "tableFrom": "tmdb_movie_release_dates",
          "tableTo": "tmdb_language",
          "schemaTo": "public",
          "columnsFrom": ["iso_639_1"],
          "columnsTo": ["iso_639_1"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "tmdb_movie_release_dates_movie_id_fkey": {
          "name": "tmdb_movie_release_dates_movie_id_fkey",
          "tableFrom": "tmdb_movie_release_dates",
          "tableTo": "tmdb_movie",
          "schemaTo": "public",
          "columnsFrom": ["movie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_movie_origin_country": {
      "name": "tmdb_movie_origin_country",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_movie_origin_country_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "iso_3166_1": {
          "name": "iso_3166_1",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "tmdb_movie_origin_country_country_id_idx": {
          "name": "tmdb_movie_origin_country_country_id_idx",
          "columns": [
            {
              "expression": "iso_3166_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tmdb_movie_origin_country_movie_id_idx": {
          "name": "tmdb_movie_origin_country_movie_id_idx",
          "columns": [
            {
              "expression": "movie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_movie_origin_country_country_fkey": {
          "name": "tmdb_movie_origin_country_country_fkey",
          "tableFrom": "tmdb_movie_origin_country",
          "tableTo": "tmdb_country",
          "schemaTo": "public",
          "columnsFrom": ["iso_3166_1"],
          "columnsTo": ["iso_3166_1"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "tmdb_movie_origin_country_movie_fkey": {
          "name": "tmdb_movie_origin_country_movie_fkey",
          "tableFrom": "tmdb_movie_origin_country",
          "tableTo": "tmdb_movie",
          "schemaTo": "public",
          "columnsFrom": ["movie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_movie_spoken_languages": {
      "name": "tmdb_movie_spoken_languages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_movie_language_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "iso_639_1": {
          "name": "iso_639_1",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "tmdb_movie_language_language_id": {
          "name": "tmdb_movie_language_language_id",
          "columns": [
            {
              "expression": "iso_639_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tmdb_movie_language_movie_id": {
          "name": "tmdb_movie_language_movie_id",
          "columns": [
            {
              "expression": "movie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_movie_language_language_id_fkey": {
          "name": "tmdb_movie_language_language_id_fkey",
          "tableFrom": "tmdb_movie_spoken_languages",
          "tableTo": "tmdb_language",
          "schemaTo": "public",
          "columnsFrom": ["iso_639_1"],
          "columnsTo": ["iso_639_1"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "tmdb_movie_language_movie_id_fkey": {
          "name": "tmdb_movie_language_movie_id_fkey",
          "tableFrom": "tmdb_movie_spoken_languages",
          "tableTo": "tmdb_movie",
          "schemaTo": "public",
          "columnsFrom": ["movie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_movie_language_pair": {
          "columns": ["movie_id", "iso_639_1"],
          "nullsNotDistinct": false,
          "name": "unique_movie_language_pair"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_movie_external_ids": {
      "name": "tmdb_movie_external_ids",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_movie_external_ids_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "tmdb_movie_external_ids_person_idx": {
          "name": "tmdb_movie_external_ids_person_idx",
          "columns": [
            {
              "expression": "movie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tmdb_movie_external_ids_source_idx": {
          "name": "tmdb_movie_external_ids_source_idx",
          "columns": [
            {
              "expression": "source",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_movie_external_ids_movie_id_fkey": {
          "name": "tmdb_movie_external_ids_movie_id_fkey",
          "tableFrom": "tmdb_movie_external_ids",
          "tableTo": "tmdb_movie",
          "schemaTo": "public",
          "columnsFrom": ["movie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_movie_roles": {
      "name": "tmdb_movie_roles",
      "schema": "",
      "columns": {
        "credit_id": {
          "name": "credit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "character": {
          "name": "character",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "order": {
          "name": "order",
          "type": "smallint",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "tmdb_movie_role_credit_id_fkey": {
          "name": "tmdb_movie_role_credit_id_fkey",
          "tableFrom": "tmdb_movie_roles",
          "tableTo": "tmdb_movie_credits",
          "schemaTo": "public",
          "columnsFrom": ["credit_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_language": {
      "name": "tmdb_language",
      "schema": "",
      "columns": {
        "iso_639_1": {
          "name": "iso_639_1",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_movie_videos": {
      "name": "tmdb_movie_videos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "iso_639_1": {
          "name": "iso_639_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "iso_3166_1": {
          "name": "iso_3166_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "site": {
          "name": "site",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "size": {
          "name": "size",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "official": {
          "name": "official",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_tmdb_movie_videos_iso_3166_1": {
          "name": "idx_tmdb_movie_videos_iso_3166_1",
          "columns": [
            {
              "expression": "iso_3166_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_movie_videos_iso_639_1": {
          "name": "idx_tmdb_movie_videos_iso_639_1",
          "columns": [
            {
              "expression": "iso_639_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_movie_videos_movie_id": {
          "name": "idx_tmdb_movie_videos_movie_id",
          "columns": [
            {
              "expression": "movie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_movie_videos_type": {
          "name": "idx_tmdb_movie_videos_type",
          "columns": [
            {
              "expression": "type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_movie_videos_iso_3166_1_fkey": {
          "name": "tmdb_movie_videos_iso_3166_1_fkey",
          "tableFrom": "tmdb_movie_videos",
          "tableTo": "tmdb_country",
          "schemaTo": "public",
          "columnsFrom": ["iso_3166_1"],
          "columnsTo": ["iso_3166_1"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        },
        "tmdb_movie_videos_movie_id_fkey": {
          "name": "tmdb_movie_videos_movie_id_fkey",
          "tableFrom": "tmdb_movie_videos",
          "tableTo": "tmdb_movie",
          "schemaTo": "public",
          "columnsFrom": ["movie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_movie_translations": {
      "name": "tmdb_movie_translations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_movie_translation_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "overview": {
          "name": "overview",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tagline": {
          "name": "tagline",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "homepage": {
          "name": "homepage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "runtime": {
          "name": "runtime",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "iso_639_1": {
          "name": "iso_639_1",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "iso_3166_1": {
          "name": "iso_3166_1",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_tmdb_movie_translation_movie_id": {
          "name": "idx_tmdb_movie_translation_movie_id",
          "columns": [
            {
              "expression": "movie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_movie_translation_title": {
          "name": "idx_tmdb_movie_translation_title",
          "columns": [
            {
              "expression": "title",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_movie_translation_title_gin": {
          "name": "idx_tmdb_movie_translation_title_gin",
          "columns": [
            {
              "expression": "title",
              "asc": true,
              "nulls": "last",
              "opclass": "gin_trgm_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_tmdb_movie_translations_iso_3166_1": {
          "name": "idx_tmdb_movie_translations_iso_3166_1",
          "columns": [
            {
              "expression": "iso_3166_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_movie_translations_iso_639_1": {
          "name": "idx_tmdb_movie_translations_iso_639_1",
          "columns": [
            {
              "expression": "iso_639_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_movie_translation_movie_id_fkey": {
          "name": "tmdb_movie_translation_movie_id_fkey",
          "tableFrom": "tmdb_movie_translations",
          "tableTo": "tmdb_movie",
          "schemaTo": "public",
          "columnsFrom": ["movie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tmdb_movie_translation_unique": {
          "columns": ["movie_id", "iso_639_1", "iso_3166_1"],
          "nullsNotDistinct": false,
          "name": "tmdb_movie_translation_unique"
        }
      },
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_movie": {
      "name": "tmdb_movie",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": true,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_movie_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "adult": {
          "name": "adult",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "budget": {
          "name": "budget",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "original_language": {
          "name": "original_language",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "original_title": {
          "name": "original_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "popularity": {
          "name": "popularity",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "revenue": {
          "name": "revenue",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vote_average": {
          "name": "vote_average",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "vote_count": {
          "name": "vote_count",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "belongs_to_collection": {
          "name": "belongs_to_collection",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_tmdb_movie_popularity": {
          "name": "idx_tmdb_movie_popularity",
          "columns": [
            {
              "expression": "popularity",
              "asc": true,
              "nulls": "last",
              "opclass": "float4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_movie_collection_fkey": {
          "name": "tmdb_movie_collection_fkey",
          "tableFrom": "tmdb_movie",
          "tableTo": "tmdb_collection",
          "schemaTo": "public",
          "columnsFrom": ["belongs_to_collection"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_movie_images": {
      "name": "tmdb_movie_images",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_movie_images_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "image_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "aspect_ratio": {
          "name": "aspect_ratio",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "height": {
          "name": "height",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "width": {
          "name": "width",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "vote_average": {
          "name": "vote_average",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "vote_count": {
          "name": "vote_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "iso_639_1": {
          "name": "iso_639_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "tmdb_movie_images_collection_idx": {
          "name": "tmdb_movie_images_collection_idx",
          "columns": [
            {
              "expression": "movie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tmdb_movie_images_iso_639_1_idx": {
          "name": "tmdb_movie_images_iso_639_1_idx",
          "columns": [
            {
              "expression": "iso_639_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tmdb_movie_images_type_idx": {
          "name": "tmdb_movie_images_type_idx",
          "columns": [
            {
              "expression": "type",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tmdb_movie_images_vote_average_idx": {
          "name": "tmdb_movie_images_vote_average_idx",
          "columns": [
            {
              "expression": "vote_average",
              "asc": true,
              "nulls": "last",
              "opclass": "float4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_movie_images_movie_id_fkey": {
          "name": "tmdb_movie_images_movie_id_fkey",
          "tableFrom": "tmdb_movie_images",
          "tableTo": "tmdb_movie",
          "schemaTo": "public",
          "columnsFrom": ["movie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.tmdb_movie_alternative_titles": {
      "name": "tmdb_movie_alternative_titles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "tmdb_movie_alternative_title_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "iso_3166_1": {
          "name": "iso_3166_1",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_tmdb_movie_alternative_title_iso_3166_1": {
          "name": "idx_tmdb_movie_alternative_title_iso_3166_1",
          "columns": [
            {
              "expression": "iso_3166_1",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_tmdb_movie_alternative_title_movie": {
          "name": "idx_tmdb_movie_alternative_title_movie",
          "columns": [
            {
              "expression": "movie_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tmdb_movie_alternative_title_movie_fkey": {
          "name": "tmdb_movie_alternative_title_movie_fkey",
          "tableFrom": "tmdb_movie_alternative_titles",
          "tableTo": "tmdb_movie",
          "schemaTo": "public",
          "columnsFrom": ["movie_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Enable read access for all users": {
          "name": "Enable read access for all users",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        }
      },
      "isRLSEnabled": true
    },
    "public.user": {
      "name": "user",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "username": {
          "name": "username",
          "type": "citext",
          "primaryKey": false,
          "notNull": true
        },
        "username_updated_at": {
          "name": "username_updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "bio": {
          "name": "bio",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "favorite_color": {
          "name": "favorite_color",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'#03befc'"
        },
        "followers_count": {
          "name": "followers_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "following_count": {
          "name": "following_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "background_url": {
          "name": "background_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "premium": {
          "name": "premium",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "language": {
          "name": "language",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'fr-FR'"
        },
        "private": {
          "name": "private",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {
        "idx_user_created_at": {
          "name": "idx_user_created_at",
          "columns": [
            {
              "expression": "created_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_private": {
          "name": "idx_user_private",
          "columns": [
            {
              "expression": "private",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_username": {
          "name": "idx_user_username",
          "columns": [
            {
              "expression": "username",
              "asc": true,
              "nulls": "last",
              "opclass": "citext_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_username_trgm": {
          "name": "idx_user_username_trgm",
          "columns": [
            {
              "expression": "username",
              "asc": true,
              "nulls": "last",
              "opclass": "gin_trgm_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_id_fkey": {
          "name": "user_id_fkey",
          "tableFrom": "user",
          "tableTo": "users",
          "schemaTo": "auth",
          "columnsFrom": ["id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_language_fkey": {
          "name": "user_language_fkey",
          "tableFrom": "user",
          "tableTo": "supported_languages",
          "schemaTo": "config",
          "columnsFrom": ["language"],
          "columnsTo": ["language"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "profiles_username_key": {
          "columns": ["username"],
          "nullsNotDistinct": false,
          "name": "profiles_username_key"
        }
      },
      "checkConstraints": {
        "check_username_regex": {
          "name": "check_username_regex",
          "value": "username ~* '^(?!.*\\.\\.)(?!.*\\.$)[^\\W][\\w.]{2,14}$'::text"
        },
        "user_bio_check": {
          "name": "user_bio_check",
          "value": "bio ~* '^(?!\\s+$)(?!.*\\n\\s*\\n)[\\s\\S]{1,150}$'::text"
        },
        "user_followers_count_check": {
          "name": "user_followers_count_check",
          "value": "followers_count >= 0"
        },
        "user_following_count_check": {
          "name": "user_following_count_check",
          "value": "following_count >= 0"
        },
        "user_full_name_check": {
          "name": "user_full_name_check",
          "value": "(char_length(full_name) >= 1) AND (char_length(full_name) <= 30)"
        },
        "username_length": {
          "name": "username_length",
          "value": "(char_length((username)::text) >= 3) AND (char_length((username)::text) <= 15)"
        }
      },
      "policies": {
        "Users can insert their own profile.": {
          "name": "Users can insert their own profile.",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "(( SELECT auth.uid() AS uid) = id)"
        },
        "User are viewable by everyone.": {
          "name": "User are viewable by everyone.",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["authenticated"]
        },
        "Enable update for users based on id": {
          "name": "Enable update for users based on id",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"]
        }
      },
      "isRLSEnabled": true
    },
    "public.user_notification_tokens": {
      "name": "user_notification_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "identity": {
            "type": "byDefault",
            "name": "user_notification_tokens_id_seq",
            "increment": "1",
            "minValue": "1",
            "maxValue": "9223372036854775807",
            "startWith": "1",
            "cache": "1",
            "cycle": false,
            "schema": "public"
          }
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "notifications_provider",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "device_type": {
          "name": "device_type",
          "type": "notifications_device_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_notification_tokens_device_type": {
          "name": "idx_user_notification_tokens_device_type",
          "columns": [
            {
              "expression": "device_type",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_notification_tokens_provider": {
          "name": "idx_user_notification_tokens_provider",
          "columns": [
            {
              "expression": "provider",
              "asc": true,
              "nulls": "last",
              "opclass": "enum_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_notification_tokens_token": {
          "name": "idx_user_notification_tokens_token",
          "columns": [
            {
              "expression": "token",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_notification_tokens_updated_at": {
          "name": "idx_user_notification_tokens_updated_at",
          "columns": [
            {
              "expression": "updated_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_notification_tokens_user_id": {
          "name": "idx_user_notification_tokens_user_id",
          "columns": [
            {
              "expression": "user_id",
              "asc": true,
              "nulls": "last",
              "opclass": "uuid_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_notification_tokens_user_id_fkey": {
          "name": "user_notification_tokens_user_id_fkey",
          "tableFrom": "user_notification_tokens",
          "tableTo": "user",
          "schemaTo": "public",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "cascade"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {
        "Users can read their own tokens": {
          "name": "Users can read their own tokens",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["authenticated"],
          "using": "(( SELECT auth.uid() AS uid) = user_id)"
        },
        "Users can insert their own tokens": {
          "name": "Users can insert their own tokens",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"]
        },
        "Users can delete their own tokens": {
          "name": "Users can delete their own tokens",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"]
        },
        "Users can update their own tokens": {
          "name": "Users can update their own tokens",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"]
        }
      },
      "isRLSEnabled": true
    }
  },
  "enums": {
    "auth.aal_level": {
      "name": "aal_level",
      "values": ["aal1", "aal2", "aal3"],
      "schema": "auth"
    },
    "auth.code_challenge_method": {
      "name": "code_challenge_method",
      "values": ["s256", "plain"],
      "schema": "auth"
    },
    "auth.factor_status": {
      "name": "factor_status",
      "values": ["unverified", "verified"],
      "schema": "auth"
    },
    "auth.factor_type": {
      "name": "factor_type",
      "values": ["totp", "webauthn", "phone"],
      "schema": "auth"
    },
    "auth.oauth_authorization_status": {
      "name": "oauth_authorization_status",
      "values": ["pending", "approved", "denied", "expired"],
      "schema": "auth"
    },
    "auth.oauth_client_type": {
      "name": "oauth_client_type",
      "values": ["public", "confidential"],
      "schema": "auth"
    },
    "auth.oauth_registration_type": {
      "name": "oauth_registration_type",
      "values": ["dynamic", "manual"],
      "schema": "auth"
    },
    "auth.oauth_response_type": {
      "name": "oauth_response_type",
      "values": ["code"],
      "schema": "auth"
    },
    "auth.one_time_token_type": {
      "name": "one_time_token_type",
      "values": [
        "confirmation_token",
        "reauthentication_token",
        "recovery_token",
        "email_change_token_new",
        "email_change_token_current",
        "phone_change_token"
      ],
      "schema": "auth"
    },
    "public.eventType": {
      "name": "eventType",
      "values": ["INSERT", "DELETE", "UPDATE"],
      "schema": "public"
    },
    "public.feed_type": {
      "name": "feed_type",
      "values": [
        "activity_movie",
        "activity_tv_series",
        "review_movie_like",
        "review_tv_series_like",
        "playlist_like"
      ],
      "schema": "public"
    },
    "public.image_type": {
      "name": "image_type",
      "values": ["backdrop", "poster", "logo", "profile"],
      "schema": "public"
    },
    "public.language_app": {
      "name": "language_app",
      "values": ["en-US", "fr-FR"],
      "schema": "public"
    },
    "public.media_type": {
      "name": "media_type",
      "values": ["movie", "tv_series", "person", "tv_season", "tv_episode"],
      "schema": "public"
    },
    "public.notification_type": {
      "name": "notification_type",
      "values": [
        "follower_created",
        "follower_accepted",
        "follower_request",
        "friend_created",
        "reco_sent",
        "reco_completed",
        "reco_sent_movie",
        "reco_sent_tv_series",
        "reco_completed_movie",
        "reco_completed_tv_series"
      ],
      "schema": "public"
    },
    "public.notifications_device_type": {
      "name": "notifications_device_type",
      "values": ["web", "ios", "android", "windows", "macos"],
      "schema": "public"
    },
    "public.notifications_provider": {
      "name": "notifications_provider",
      "values": ["fcm", "expo", "apns"],
      "schema": "public"
    },
    "public.playlists_type": {
      "name": "playlists_type",
      "values": ["movie", "tv_series"],
      "schema": "public"
    },
    "public.pricing_plan_interval": {
      "name": "pricing_plan_interval",
      "values": ["day", "week", "month", "year"],
      "schema": "public"
    },
    "public.pricing_type": {
      "name": "pricing_type",
      "values": ["one_time", "recurring"],
      "schema": "public"
    },
    "public.reco_status": {
      "name": "reco_status",
      "values": ["active", "completed", "deleted"],
      "schema": "public"
    },
    "public.subscription_status": {
      "name": "subscription_status",
      "values": [
        "trialing",
        "active",
        "canceled",
        "incomplete",
        "incomplete_expired",
        "past_due",
        "unpaid"
      ],
      "schema": "public"
    },
    "public.sync_logs_status": {
      "name": "sync_logs_status",
      "values": [
        "initialized",
        "fetching_data",
        "data_fetched",
        "syncing_to_db",
        "updating_popularity",
        "success",
        "failed"
      ],
      "schema": "public"
    },
    "public.sync_logs_type": {
      "name": "sync_logs_type",
      "values": [
        "tmdb_movie",
        "tmdb_person",
        "tmdb_collection",
        "tmdb_keyword",
        "tmdb_company",
        "tmdb_language",
        "tmdb_country",
        "tmdb_genre",
        "tmdb_network",
        "tmdb_tv_serie"
      ],
      "schema": "public"
    },
    "public.user_activity_type": {
      "name": "user_activity_type",
      "values": ["movie", "tv_series"],
      "schema": "public"
    },
    "public.user_recos_type": {
      "name": "user_recos_type",
      "values": ["movie", "tv_series"],
      "schema": "public"
    },
    "public.user_review_type": {
      "name": "user_review_type",
      "values": ["movie", "tv_series"],
      "schema": "public"
    },
    "public.user_watchlist_type": {
      "name": "user_watchlist_type",
      "values": ["movie", "tv_series"],
      "schema": "public"
    },
    "public.watchlist_status": {
      "name": "watchlist_status",
      "values": ["active", "completed"],
      "schema": "public"
    }
  },
  "schemas": {
    "auth": "auth"
  },
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {
    "public.media_genre": {
      "name": "media_genre",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT g.id, ( SELECT gt.name FROM tmdb_genre_translation gt WHERE gt.genre = g.id ORDER BY ( CASE WHEN gt.language = (((language.requested_language).iso_639_1 || '-'::text) || (language.requested_language).iso_3166_1) THEN 1 WHEN gt.language = (((language.fallback_language).iso_639_1 || '-'::text) || (language.fallback_language).iso_3166_1) THEN 2 WHEN gt.language = (((language.default_language).iso_639_1 || '-'::text) || (language.default_language).iso_3166_1) THEN 3 ELSE 4 END) LIMIT 1) AS name FROM tmdb_genre g, LATERAL config.language() language(requested_language, fallback_language, default_language)",
      "materialized": false
    },
    "public.widget_most_popular": {
      "name": "widget_most_popular",
      "schema": "public",
      "columns": {
        "media_id": {
          "name": "media_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "user_recos_type",
          "primaryKey": false,
          "notNull": false
        },
        "popularity": {
          "name": "popularity",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT m.id AS media_id, 'movie'::user_recos_type AS type, m.popularity FROM tmdb_movie m UNION ALL SELECT tv.id AS media_id, 'tv_series'::user_recos_type AS type, tv.popularity FROM tmdb_tv_series tv",
      "materialized": true
    },
    "public.user_activities_movie_follower": {
      "name": "user_activities_movie_follower",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_liked": {
          "name": "is_liked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "liked_at": {
          "name": "liked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "rating": {
          "name": "rating",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "rated_at": {
          "name": "rated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "watched_date": {
          "name": "watched_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT ua.id, ua.created_at, ua.updated_at, ua.movie_id, ua.user_id, ua.is_liked, ua.liked_at, ua.rating, ua.rated_at, ua.watched_date FROM user_activities_movie ua JOIN user_follower uf ON ua.user_id = uf.followee_id WHERE uf.user_id = auth.uid() AND ua.user_id <> auth.uid()",
      "materialized": false,
      "with": {
        "securityInvoker": true
      }
    },
    "public.user_activities_tv_series_follower": {
      "name": "user_activities_tv_series_follower",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "tv_series_id": {
          "name": "tv_series_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_liked": {
          "name": "is_liked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "liked_at": {
          "name": "liked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "rating": {
          "name": "rating",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "rated_at": {
          "name": "rated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "watched_date": {
          "name": "watched_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT ua.id, ua.created_at, ua.updated_at, ua.tv_series_id, ua.user_id, ua.is_liked, ua.liked_at, ua.rating, ua.rated_at, ua.watched_date FROM user_activities_tv_series ua JOIN user_follower uf ON ua.user_id = uf.followee_id WHERE uf.user_id = auth.uid() AND ua.user_id <> auth.uid()",
      "materialized": false,
      "with": {
        "securityInvoker": true
      }
    },
    "public.media_person": {
      "name": "media_person",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "profile_path": {
          "name": "profile_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "profile_url": {
          "name": "profile_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "birthday": {
          "name": "birthday",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "deathday": {
          "name": "deathday",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "homepage": {
          "name": "homepage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "imdb_id": {
          "name": "imdb_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "known_for_department": {
          "name": "known_for_department",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "place_of_birth": {
          "name": "place_of_birth",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gender": {
          "name": "gender",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "biography": {
          "name": "biography",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "popularity": {
          "name": "popularity",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT person.id, person.name, person.profile_path, 'https://image.tmdb.org/t/p/original'::text || person.profile_path AS profile_url, person.birthday, person.deathday, person.homepage, person.imdb_id, person.known_for_department, person.place_of_birth, person.gender, person.biography, person.popularity, (person.id || '-'::text) || slugify(person.name) AS slug, ('/person/'::text || (person.id || '-'::text)) || slugify(person.name) AS url FROM ( SELECT c.id, c.gender, c.known_for_department, c.name, c.popularity, c.birthday, c.deathday, c.homepage, c.imdb_id, c.place_of_birth, ( SELECT ci.file_path FROM tmdb_person_image ci WHERE ci.person = c.id ORDER BY ci.vote_average DESC NULLS LAST LIMIT 1) AS profile_path, COALESCE(( SELECT NULLIF(t.biography, ''::text) AS \"nullif\" FROM tmdb_person_translation t WHERE t.person = c.id AND t.iso_639_1 = (language.requested_language).iso_639_1 AND t.iso_3166_1 = (language.requested_language).iso_3166_1 LIMIT 1), ( SELECT NULLIF(t.biography, ''::text) AS \"nullif\" FROM tmdb_person_translation t WHERE t.person = c.id AND t.iso_639_1 = (language.fallback_language).iso_639_1 AND t.iso_3166_1 = (language.fallback_language).iso_3166_1 LIMIT 1)) AS biography FROM tmdb_person c, LATERAL config.language() language(requested_language, fallback_language, default_language)) person",
      "materialized": false
    },
    "public.user_activities_movie_follower_average_rating": {
      "name": "user_activities_movie_follower_average_rating",
      "schema": "public",
      "columns": {
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "follower_avg_rating": {
          "name": "follower_avg_rating",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT ua.movie_id, avg(ua.rating) AS follower_avg_rating FROM user_activities_movie ua JOIN user_follower uf ON ua.user_id = uf.followee_id WHERE uf.user_id = auth.uid() GROUP BY ua.movie_id",
      "materialized": false
    },
    "public.user_activities_tv_series_follower_average_rating": {
      "name": "user_activities_tv_series_follower_average_rating",
      "schema": "public",
      "columns": {
        "tv_series_id": {
          "name": "tv_series_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "follower_avg_rating": {
          "name": "follower_avg_rating",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT ua.tv_series_id, avg(ua.rating) AS follower_avg_rating FROM user_activities_tv_series ua JOIN user_follower uf ON ua.user_id = uf.followee_id WHERE uf.user_id = auth.uid() GROUP BY ua.tv_series_id",
      "materialized": false
    },
    "public.user_watchlists": {
      "name": "user_watchlists",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "watchlist_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "media_id": {
          "name": "media_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "media": {
          "name": "media",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT u.id, u.created_at, u.user_id, u.status, u.comment, 'movie'::text AS type, u.movie_id AS media_id, to_jsonb(m.*) AS media FROM user_watchlists_movie u LEFT JOIN media_movie m ON m.id = u.movie_id UNION ALL SELECT u.id, u.created_at, u.user_id, u.status, u.comment, 'tv_series'::text AS type, u.tv_series_id AS media_id, to_jsonb(t.*) AS media FROM user_watchlists_tv_series u LEFT JOIN media_tv_series t ON t.id = u.tv_series_id",
      "materialized": false,
      "with": {
        "securityInvoker": true
      }
    },
    "public.user_watchlists_random": {
      "name": "user_watchlists_random",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "watchlist_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "media_id": {
          "name": "media_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "media": {
          "name": "media",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT user_watchlists.id, user_watchlists.created_at, user_watchlists.user_id, user_watchlists.status, user_watchlists.comment, user_watchlists.type, user_watchlists.media_id, user_watchlists.media FROM user_watchlists ORDER BY (random())",
      "materialized": false,
      "with": {
        "securityInvoker": true
      }
    },
    "public.user_activities": {
      "name": "user_activities",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_liked": {
          "name": "is_liked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "liked_at": {
          "name": "liked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "rating": {
          "name": "rating",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "rated_at": {
          "name": "rated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "watched_date": {
          "name": "watched_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "media_id": {
          "name": "media_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "media": {
          "name": "media",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "review": {
          "name": "review",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "user": {
          "name": "user",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT uam.id, uam.created_at, uam.updated_at, uam.user_id, uam.is_liked, uam.liked_at, uam.rating, uam.rated_at, uam.watched_date, 'movie'::text AS type, uam.movie_id AS media_id, to_jsonb(m.*) AS media, to_jsonb(r.*) AS review, to_jsonb(u.*) AS \"user\" FROM user_activities_movie uam LEFT JOIN media_movie m ON m.id = uam.movie_id LEFT JOIN user_reviews_movie r ON r.id = uam.id LEFT JOIN profile u ON u.id = uam.user_id UNION ALL SELECT uat.id, uat.created_at, uat.updated_at, uat.user_id, uat.is_liked, uat.liked_at, uat.rating, uat.rated_at, uat.watched_date, 'tv_series'::text AS type, uat.tv_series_id AS media_id, to_jsonb(t.*) AS media, to_jsonb(r.*) AS review, to_jsonb(u.*) AS \"user\" FROM user_activities_tv_series uat LEFT JOIN media_tv_series t ON t.id = uat.tv_series_id LEFT JOIN user_reviews_tv_series r ON r.id = uat.id LEFT JOIN profile u ON u.id = uat.user_id",
      "materialized": false
    },
    "public.user_recos_aggregated": {
      "name": "user_recos_aggregated",
      "schema": "public",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "senders": {
          "name": "senders",
          "type": "json[]",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "reco_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "media_id": {
          "name": "media_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "media": {
          "name": "media",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT u.created_at, u.user_id, u.senders, u.status, 'movie'::text AS type, u.movie_id AS media_id, to_jsonb(m.*) AS media FROM user_recos_movie_aggregated u LEFT JOIN media_movie m ON m.id = u.movie_id UNION ALL SELECT u.created_at, u.user_id, u.senders, u.status, 'tv_series'::text AS type, u.tv_series_id AS media_id, to_jsonb(t.*) AS media FROM user_recos_tv_series_aggregated u LEFT JOIN media_tv_series t ON t.id = u.tv_series_id",
      "materialized": false,
      "with": {
        "securityInvoker": true
      }
    },
    "public.user_recos_aggregated_random": {
      "name": "user_recos_aggregated_random",
      "schema": "public",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "senders": {
          "name": "senders",
          "type": "json[]",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "reco_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "media_id": {
          "name": "media_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "media": {
          "name": "media",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT user_recos_aggregated.created_at, user_recos_aggregated.user_id, user_recos_aggregated.senders, user_recos_aggregated.status, user_recos_aggregated.type, user_recos_aggregated.media_id, user_recos_aggregated.media FROM user_recos_aggregated ORDER BY (random())",
      "materialized": false,
      "with": {
        "securityInvoker": true
      }
    },
    "public.media_tv_series_episodes": {
      "name": "media_tv_series_episodes",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "season_id": {
          "name": "season_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "serie_id": {
          "name": "serie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "season_number": {
          "name": "season_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "episode_number": {
          "name": "episode_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "air_date": {
          "name": "air_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "episode_type": {
          "name": "episode_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "overview": {
          "name": "overview",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "runtime": {
          "name": "runtime",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "production_code": {
          "name": "production_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "still_path": {
          "name": "still_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "still_url": {
          "name": "still_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "vote_average": {
          "name": "vote_average",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "vote_count": {
          "name": "vote_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT e.id, e.season_id, s.serie_id, s.season_number, e.episode_number, e.name, e.air_date, e.episode_type, e.overview, e.runtime, e.production_code, e.still_path, 'https://image.tmdb.org/t/p/original'::text || e.still_path AS still_url, e.vote_average, e.vote_count, (s.url || '/'::text) || e.episode_number::text AS url FROM tmdb_tv_series_episodes e JOIN media_tv_series_seasons s ON e.season_id = s.id",
      "materialized": false
    },
    "public.media_tv_series": {
      "name": "media_tv_series",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "poster_path": {
          "name": "poster_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "poster_url": {
          "name": "poster_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "backdrop_path": {
          "name": "backdrop_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "backdrop_url": {
          "name": "backdrop_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "jsonb[]",
          "primaryKey": false,
          "notNull": false
        },
        "genres": {
          "name": "genres",
          "type": "jsonb[]",
          "primaryKey": false,
          "notNull": false
        },
        "first_air_date": {
          "name": "first_air_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "last_air_date": {
          "name": "last_air_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "overview": {
          "name": "overview",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "number_of_episodes": {
          "name": "number_of_episodes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "number_of_seasons": {
          "name": "number_of_seasons",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "in_production": {
          "name": "in_production",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "original_language": {
          "name": "original_language",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "original_name": {
          "name": "original_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "popularity": {
          "name": "popularity",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "vote_average": {
          "name": "vote_average",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "vote_count": {
          "name": "vote_count",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "follower_avg_rating": {
          "name": "follower_avg_rating",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT serie.id, COALESCE(serie.name, serie.original_name) AS name, serie.poster_path, 'https://image.tmdb.org/t/p/original'::text || serie.poster_path AS poster_url, serie.backdrop_path, 'https://image.tmdb.org/t/p/original'::text || serie.backdrop_path AS backdrop_url, serie.created_by, serie.genres, serie.first_air_date, serie.last_air_date, serie.overview, serie.number_of_episodes, serie.number_of_seasons, serie.in_production, serie.original_language, serie.original_name, serie.status, serie.type, serie.popularity, serie.vote_average, serie.vote_count, (serie.id || '-'::text) || slugify(serie.name) AS slug, ('/tv-series/'::text || (serie.id || '-'::text)) || slugify(serie.name) AS url, ( SELECT avg(ua.rating) AS follower_avg_rating FROM user_activities_tv_series ua JOIN user_follower uf ON ua.user_id = uf.followee_id WHERE uf.user_id = auth.uid() AND ua.tv_series_id = serie.id GROUP BY ua.tv_series_id) AS follower_avg_rating FROM ( SELECT s.id, COALESCE(( SELECT t.name FROM tmdb_tv_series_translations t WHERE t.serie_id = s.id AND t.iso_639_1 = (language.requested_language).iso_639_1 AND t.iso_3166_1 = (language.requested_language).iso_3166_1 LIMIT 1), ( SELECT t.name FROM tmdb_tv_series_translations t WHERE t.serie_id = s.id AND t.iso_639_1 = (language.fallback_language).iso_639_1 AND t.iso_3166_1 = (language.fallback_language).iso_3166_1 LIMIT 1), CASE WHEN (language.requested_language).iso_639_1 = s.original_language THEN s.original_name ELSE ( SELECT NULLIF(t.name, ''::text) AS \"nullif\" FROM tmdb_tv_series_translations t WHERE t.serie_id = s.id AND t.iso_639_1 = (language.default_language).iso_639_1 AND t.iso_3166_1 = (language.default_language).iso_3166_1 LIMIT 1) END, s.original_name) AS name, COALESCE(( SELECT si.file_path FROM tmdb_tv_series_images si WHERE si.serie_id = s.id AND si.type = 'poster'::image_type AND si.iso_639_1 = (language.requested_language).iso_639_1 ORDER BY si.vote_average DESC NULLS LAST LIMIT 1), ( SELECT si.file_path FROM tmdb_tv_series_images si WHERE si.serie_id = s.id AND si.type = 'poster'::image_type AND si.iso_639_1 = s.original_language ORDER BY si.vote_average DESC NULLS LAST LIMIT 1), ( SELECT si.file_path FROM tmdb_tv_series_images si WHERE si.serie_id = s.id AND si.type = 'poster'::image_type ORDER BY si.vote_average DESC NULLS LAST LIMIT 1)) AS poster_path, ( SELECT si.file_path FROM tmdb_tv_series_images si WHERE si.serie_id = s.id AND si.type = 'backdrop'::image_type ORDER BY ( CASE WHEN si.iso_639_1 IS NULL THEN 1 WHEN si.iso_639_1 = (language.requested_language).iso_639_1 THEN 2 WHEN si.iso_639_1 = (language.fallback_language).iso_639_1 THEN 3 WHEN si.iso_639_1 = (language.default_language).iso_639_1 THEN 4 ELSE 5 END), si.vote_average DESC NULLS LAST LIMIT 1) AS backdrop_path, COALESCE(( SELECT NULLIF(t.overview, ''::text) AS \"nullif\" FROM tmdb_tv_series_translations t WHERE t.serie_id = s.id AND t.iso_639_1 = (language.requested_language).iso_639_1 AND t.iso_3166_1 = (language.requested_language).iso_3166_1 LIMIT 1), ( SELECT NULLIF(t.overview, ''::text) AS \"nullif\" FROM tmdb_tv_series_translations t WHERE t.serie_id = s.id AND t.iso_639_1 = (language.fallback_language).iso_639_1 AND t.iso_3166_1 = (language.fallback_language).iso_3166_1 LIMIT 1)) AS overview, ( SELECT array_agg(to_jsonb(p.*)) AS array_agg FROM tmdb_tv_series_credits sc JOIN media_person p ON sc.person_id = p.id WHERE sc.serie_id = s.id AND sc.job = 'Creator'::text) AS created_by, s.first_air_date, s.last_air_date, s.number_of_episodes, s.number_of_seasons, s.in_production, s.original_language, s.original_name, s.popularity, s.status, s.type, s.vote_average, s.vote_count, ( SELECT array_agg(jsonb_build_object('id', g.id, 'name', gt.name)) AS array_agg FROM tmdb_tv_series_genres sg JOIN tmdb_genre g ON sg.genre_id = g.id JOIN tmdb_genre_translation gt ON g.id = gt.genre WHERE sg.serie_id = s.id AND gt.language = (((language.requested_language).iso_639_1 || '-'::text) || (language.requested_language).iso_3166_1)) AS genres FROM tmdb_tv_series s, LATERAL config.language() language(requested_language, fallback_language, default_language)) serie",
      "materialized": false
    },
    "public.media_tv_series_seasons": {
      "name": "media_tv_series_seasons",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "serie_id": {
          "name": "serie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "poster_path": {
          "name": "poster_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "poster_url": {
          "name": "poster_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "season_number": {
          "name": "season_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "vote_average": {
          "name": "vote_average",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "vote_count": {
          "name": "vote_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "episode_count": {
          "name": "episode_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT season.id, season.serie_id, season.name, season.poster_path, 'https://image.tmdb.org/t/p/original'::text || season.poster_path AS poster_url, season.season_number, season.vote_average, season.vote_count, season.episode_count, (('/tv-series/'::text || season.serie_id::text) || '/'::text) || season.season_number::text AS url FROM ( SELECT s.id, s.serie_id, COALESCE(( SELECT t.name FROM tmdb_tv_series_seasons_translations t WHERE t.season_id = s.id AND t.iso_639_1 = (language.requested_language).iso_639_1 AND t.iso_3166_1 = (language.requested_language).iso_3166_1 LIMIT 1), ( SELECT t.name FROM tmdb_tv_series_seasons_translations t WHERE t.season_id = s.id AND t.iso_639_1 = (language.fallback_language).iso_639_1 AND t.iso_3166_1 = (language.fallback_language).iso_3166_1 LIMIT 1), ( SELECT NULLIF(t.name, ''::text) AS \"nullif\" FROM tmdb_tv_series_seasons_translations t WHERE t.season_id = s.id AND t.iso_639_1 = (language.default_language).iso_639_1 AND t.iso_3166_1 = (language.default_language).iso_3166_1 LIMIT 1)) AS name, s.poster_path, s.season_number, s.vote_average, s.vote_count, ( SELECT count(*) AS count FROM tmdb_tv_series_episodes e WHERE e.season_id = s.id) AS episode_count FROM tmdb_tv_series_seasons s, LATERAL config.language() language(requested_language, fallback_language, default_language)) season",
      "materialized": false
    },
    "public.media_movie_full": {
      "name": "media_movie_full",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "poster_path": {
          "name": "poster_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "poster_url": {
          "name": "poster_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "backdrop_path": {
          "name": "backdrop_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "backdrop_url": {
          "name": "backdrop_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "directors": {
          "name": "directors",
          "type": "jsonb[]",
          "primaryKey": false,
          "notNull": false
        },
        "genres": {
          "name": "genres",
          "type": "jsonb[]",
          "primaryKey": false,
          "notNull": false
        },
        "release_date": {
          "name": "release_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "overview": {
          "name": "overview",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "budget": {
          "name": "budget",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "homepage": {
          "name": "homepage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "revenue": {
          "name": "revenue",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "runtime": {
          "name": "runtime",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "original_language": {
          "name": "original_language",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "original_title": {
          "name": "original_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "popularity": {
          "name": "popularity",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "vote_average": {
          "name": "vote_average",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "vote_count": {
          "name": "vote_count",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "follower_avg_rating": {
          "name": "follower_avg_rating",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "trailers": {
          "name": "trailers",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT movie.id, COALESCE(movie.title, movie.original_title) AS title, movie.poster_path, 'https://image.tmdb.org/t/p/original'::text || movie.poster_path AS poster_url, movie.backdrop_path, 'https://image.tmdb.org/t/p/original'::text || movie.backdrop_path AS backdrop_url, movie.directors, movie.genres, movie.release_date, movie.overview, movie.budget, movie.homepage, movie.revenue, movie.runtime, movie.original_language, movie.original_title, movie.status, movie.popularity, movie.vote_average, movie.vote_count, (movie.id || '-'::text) || slugify(movie.title) AS slug, ('/film/'::text || (movie.id || '-'::text)) || slugify(movie.title) AS url, ( SELECT avg(ua.rating) AS follower_avg_rating FROM user_activities_movie ua JOIN user_follower uf ON ua.user_id = uf.followee_id WHERE uf.user_id = auth.uid() AND ua.movie_id = movie.id GROUP BY ua.movie_id) AS follower_avg_rating, movie.trailers FROM ( SELECT m.id, ( SELECT COALESCE(NULLIF(t.title, ''::text), CASE WHEN t.iso_639_1 = m.original_language THEN m.original_title ELSE NULL::text END, m.original_title) AS title FROM tmdb_movie_translations t WHERE t.movie_id = m.id ORDER BY ( CASE WHEN t.iso_639_1 = (language.requested_language).iso_639_1 AND t.iso_3166_1 = (language.requested_language).iso_3166_1 THEN 1 WHEN t.iso_639_1 = (language.fallback_language).iso_639_1 AND t.iso_3166_1 = (language.fallback_language).iso_3166_1 THEN 2 WHEN t.iso_639_1 = (language.default_language).iso_639_1 AND t.iso_3166_1 = (language.default_language).iso_3166_1 THEN 3 WHEN t.iso_639_1 = m.original_language THEN 4 ELSE 5 END) LIMIT 1) AS title, ( SELECT mi.file_path FROM tmdb_movie_images mi WHERE mi.movie_id = m.id AND mi.type = 'poster'::image_type ORDER BY ( CASE WHEN mi.iso_639_1 = (language.requested_language).iso_639_1 THEN 1 WHEN mi.iso_639_1 = m.original_language THEN 2 ELSE 3 END), mi.vote_average DESC NULLS LAST LIMIT 1) AS poster_path, ( SELECT mi.file_path FROM tmdb_movie_images mi WHERE mi.movie_id = m.id AND mi.type = 'backdrop'::image_type ORDER BY ( CASE WHEN mi.iso_639_1 IS NULL THEN 1 WHEN mi.iso_639_1 = (language.requested_language).iso_639_1 THEN 2 WHEN mi.iso_639_1 = (language.fallback_language).iso_639_1 THEN 3 WHEN mi.iso_639_1 = (language.default_language).iso_639_1 THEN 4 ELSE 5 END), mi.vote_average DESC NULLS LAST LIMIT 1) AS backdrop_path, ( SELECT NULLIF(t.overview, ''::text) AS \"nullif\" FROM tmdb_movie_translations t WHERE t.movie_id = m.id ORDER BY ( CASE WHEN t.iso_639_1 = (language.requested_language).iso_639_1 AND t.iso_3166_1 = (language.requested_language).iso_3166_1 THEN 1 WHEN t.iso_639_1 = (language.fallback_language).iso_639_1 AND t.iso_3166_1 = (language.fallback_language).iso_3166_1 THEN 2 ELSE 3 END) LIMIT 1) AS overview, m.budget, ( SELECT NULLIF(t.homepage, ''::text) AS \"nullif\" FROM tmdb_movie_translations t WHERE t.movie_id = m.id ORDER BY ( CASE WHEN t.iso_639_1 = (language.requested_language).iso_639_1 AND t.iso_3166_1 = (language.requested_language).iso_3166_1 THEN 1 WHEN t.iso_639_1 = (language.fallback_language).iso_639_1 AND t.iso_3166_1 = (language.fallback_language).iso_3166_1 THEN 2 WHEN t.iso_639_1 = (language.default_language).iso_639_1 AND t.iso_3166_1 = (language.default_language).iso_3166_1 THEN 3 ELSE 4 END) LIMIT 1) AS homepage, m.revenue, ( SELECT t.runtime FROM tmdb_movie_translations t WHERE t.movie_id = m.id AND t.runtime <> 0 ORDER BY ( CASE WHEN t.iso_639_1 = (language.requested_language).iso_639_1 AND t.iso_3166_1 = (language.requested_language).iso_3166_1 THEN 1 WHEN t.iso_639_1 = (language.fallback_language).iso_639_1 AND t.iso_3166_1 = (language.fallback_language).iso_3166_1 THEN 2 WHEN t.iso_639_1 = (language.default_language).iso_639_1 AND t.iso_3166_1 = (language.default_language).iso_3166_1 THEN 3 ELSE 4 END) LIMIT 1) AS runtime, m.original_language, m.original_title, m.popularity, m.vote_average, m.vote_count, ( SELECT r.release_date FROM tmdb_movie_release_dates r WHERE r.movie_id = m.id ORDER BY ( CASE WHEN r.release_type = ANY (ARRAY[2, 3]) THEN 1 WHEN r.release_type = 1 THEN 2 WHEN r.release_type = ANY (ARRAY[4, 5, 6]) THEN 3 ELSE 4 END), ( CASE WHEN r.iso_3166_1 = (language.requested_language).iso_3166_1 THEN 1 WHEN r.iso_3166_1 = (language.default_language).iso_3166_1 THEN 2 ELSE 3 END), r.release_date LIMIT 1) AS release_date, m.status, ( SELECT array_agg(to_jsonb(p.*)) AS array_agg FROM tmdb_movie_credits mc JOIN media_person p ON mc.person_id = p.id WHERE mc.movie_id = m.id AND mc.job = 'Director'::text) AS directors, ( SELECT array_agg(jsonb_build_object('id', g.id, 'name', gt.name)) AS array_agg FROM tmdb_movie_genres mg JOIN tmdb_genre g ON mg.genre_id = g.id JOIN tmdb_genre_translation gt ON g.id = gt.genre WHERE mg.movie_id = m.id AND gt.language = (((language.requested_language).iso_639_1 || '-'::text) || (language.requested_language).iso_3166_1)) AS genres, ( SELECT json_agg(t.* ORDER BY t.lang_priority, t.published_at) AS json_agg FROM ( SELECT x.id, x.movie_id, x.iso_639_1, x.iso_3166_1, x.name, x.key, x.site, x.size, x.type, x.official, x.published_at, x.lang_priority, x.rn FROM ( SELECT v.id, v.movie_id, v.iso_639_1, v.iso_3166_1, v.name, v.key, v.site, v.size, v.type, v.official, v.published_at, CASE WHEN v.iso_639_1 = (language.requested_language).iso_639_1 THEN 1 WHEN v.iso_639_1 = m.original_language THEN 2 WHEN v.iso_639_1 = (language.default_language).iso_639_1 THEN 3 ELSE 4 END AS lang_priority, row_number() OVER (PARTITION BY v.iso_639_1 ORDER BY v.published_at) AS rn FROM tmdb_movie_videos v WHERE v.movie_id = m.id AND v.type = 'Trailer'::text AND (v.iso_639_1 = (language.requested_language).iso_639_1 OR v.iso_639_1 = m.original_language OR v.iso_639_1 = (language.default_language).iso_639_1 AND (language.default_language).iso_639_1 <> m.original_language)) x WHERE x.rn <= 2) t) AS trailers FROM tmdb_movie m, LATERAL config.language() language(requested_language, fallback_language, default_language)) movie",
      "materialized": false
    },
    "public.media_tv_series_full": {
      "name": "media_tv_series_full",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "poster_path": {
          "name": "poster_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "poster_url": {
          "name": "poster_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "backdrop_path": {
          "name": "backdrop_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "backdrop_url": {
          "name": "backdrop_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "jsonb[]",
          "primaryKey": false,
          "notNull": false
        },
        "genres": {
          "name": "genres",
          "type": "jsonb[]",
          "primaryKey": false,
          "notNull": false
        },
        "first_air_date": {
          "name": "first_air_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "last_air_date": {
          "name": "last_air_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "overview": {
          "name": "overview",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "number_of_episodes": {
          "name": "number_of_episodes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "number_of_seasons": {
          "name": "number_of_seasons",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "in_production": {
          "name": "in_production",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "original_language": {
          "name": "original_language",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "original_name": {
          "name": "original_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "popularity": {
          "name": "popularity",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "vote_average": {
          "name": "vote_average",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "vote_count": {
          "name": "vote_count",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "follower_avg_rating": {
          "name": "follower_avg_rating",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        },
        "trailers": {
          "name": "trailers",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT serie.id, COALESCE(serie.name, serie.original_name) AS name, serie.poster_path, 'https://image.tmdb.org/t/p/original'::text || serie.poster_path AS poster_url, serie.backdrop_path, 'https://image.tmdb.org/t/p/original'::text || serie.backdrop_path AS backdrop_url, serie.created_by, serie.genres, serie.first_air_date, serie.last_air_date, serie.overview, serie.number_of_episodes, serie.number_of_seasons, serie.in_production, serie.original_language, serie.original_name, serie.status, serie.type, serie.popularity, serie.vote_average, serie.vote_count, (serie.id || '-'::text) || slugify(serie.name) AS slug, ('/tv-series/'::text || (serie.id || '-'::text)) || slugify(serie.name) AS url, ( SELECT avg(ua.rating) AS follower_avg_rating FROM user_activities_tv_series ua JOIN user_follower uf ON ua.user_id = uf.followee_id WHERE uf.user_id = auth.uid() AND ua.tv_series_id = serie.id GROUP BY ua.tv_series_id) AS follower_avg_rating, serie.trailers FROM ( SELECT s.id, COALESCE(( SELECT t.name FROM tmdb_tv_series_translations t WHERE t.serie_id = s.id AND t.iso_639_1 = (language.requested_language).iso_639_1 AND t.iso_3166_1 = (language.requested_language).iso_3166_1 LIMIT 1), ( SELECT t.name FROM tmdb_tv_series_translations t WHERE t.serie_id = s.id AND t.iso_639_1 = (language.fallback_language).iso_639_1 AND t.iso_3166_1 = (language.fallback_language).iso_3166_1 LIMIT 1), CASE WHEN (language.requested_language).iso_639_1 = s.original_language THEN s.original_name ELSE ( SELECT NULLIF(t.name, ''::text) AS \"nullif\" FROM tmdb_tv_series_translations t WHERE t.serie_id = s.id AND t.iso_639_1 = (language.default_language).iso_639_1 AND t.iso_3166_1 = (language.default_language).iso_3166_1 LIMIT 1) END, s.original_name) AS name, COALESCE(( SELECT si.file_path FROM tmdb_tv_series_images si WHERE si.serie_id = s.id AND si.type = 'poster'::image_type AND si.iso_639_1 = (language.requested_language).iso_639_1 ORDER BY si.vote_average DESC NULLS LAST LIMIT 1), ( SELECT si.file_path FROM tmdb_tv_series_images si WHERE si.serie_id = s.id AND si.type = 'poster'::image_type AND si.iso_639_1 = s.original_language ORDER BY si.vote_average DESC NULLS LAST LIMIT 1), ( SELECT si.file_path FROM tmdb_tv_series_images si WHERE si.serie_id = s.id AND si.type = 'poster'::image_type ORDER BY si.vote_average DESC NULLS LAST LIMIT 1)) AS poster_path, ( SELECT si.file_path FROM tmdb_tv_series_images si WHERE si.serie_id = s.id AND si.type = 'backdrop'::image_type ORDER BY ( CASE WHEN si.iso_639_1 IS NULL THEN 1 WHEN si.iso_639_1 = (language.requested_language).iso_639_1 THEN 2 WHEN si.iso_639_1 = (language.fallback_language).iso_639_1 THEN 3 WHEN si.iso_639_1 = (language.default_language).iso_639_1 THEN 4 ELSE 5 END), si.vote_average DESC NULLS LAST LIMIT 1) AS backdrop_path, COALESCE(( SELECT NULLIF(t.overview, ''::text) AS \"nullif\" FROM tmdb_tv_series_translations t WHERE t.serie_id = s.id AND t.iso_639_1 = (language.requested_language).iso_639_1 AND t.iso_3166_1 = (language.requested_language).iso_3166_1 LIMIT 1), ( SELECT NULLIF(t.overview, ''::text) AS \"nullif\" FROM tmdb_tv_series_translations t WHERE t.serie_id = s.id AND t.iso_639_1 = (language.fallback_language).iso_639_1 AND t.iso_3166_1 = (language.fallback_language).iso_3166_1 LIMIT 1)) AS overview, ( SELECT array_agg(to_jsonb(p.*)) AS array_agg FROM tmdb_tv_series_credits sc JOIN media_person p ON sc.person_id = p.id WHERE sc.serie_id = s.id AND sc.job = 'Creator'::text) AS created_by, s.first_air_date, s.last_air_date, s.number_of_episodes, s.number_of_seasons, s.in_production, s.original_language, s.original_name, s.popularity, s.status, s.type, s.vote_average, s.vote_count, ( SELECT array_agg(jsonb_build_object('id', g.id, 'name', gt.name)) AS array_agg FROM tmdb_tv_series_genres sg JOIN tmdb_genre g ON sg.genre_id = g.id JOIN tmdb_genre_translation gt ON g.id = gt.genre WHERE sg.serie_id = s.id AND gt.language = (((language.requested_language).iso_639_1 || '-'::text) || (language.requested_language).iso_3166_1)) AS genres, ( SELECT json_agg(t.* ORDER BY t.lang_priority, t.published_at) AS json_agg FROM ( SELECT x.id, x.serie_id, x.iso_639_1, x.iso_3166_1, x.name, x.key, x.site, x.size, x.type, x.official, x.published_at, x.lang_priority, x.rn FROM ( SELECT v.id, v.serie_id, v.iso_639_1, v.iso_3166_1, v.name, v.key, v.site, v.size, v.type, v.official, v.published_at, CASE WHEN v.iso_639_1 = (language.requested_language).iso_639_1 THEN 1 WHEN v.iso_639_1 = s.original_language THEN 2 WHEN v.iso_639_1 = (language.default_language).iso_639_1 THEN 3 ELSE 4 END AS lang_priority, row_number() OVER (PARTITION BY v.iso_639_1 ORDER BY v.published_at) AS rn FROM tmdb_tv_series_videos v WHERE v.serie_id = s.id AND v.type = 'Trailer'::text AND (v.iso_639_1 = (language.requested_language).iso_639_1 OR v.iso_639_1 = s.original_language OR v.iso_639_1 = (language.default_language).iso_639_1 AND (language.default_language).iso_639_1 <> s.original_language)) x WHERE x.rn <= 2) t) AS trailers FROM tmdb_tv_series s, LATERAL config.language() language(requested_language, fallback_language, default_language)) serie",
      "materialized": false
    },
    "public.media_movie_aggregate_credits": {
      "name": "media_movie_aggregate_credits",
      "schema": "public",
      "columns": {
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "person_id": {
          "name": "person_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "credits": {
          "name": "credits",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT mc.movie_id, mc.person_id, json_agg(json_build_object('credi_id', mc.id, 'department', mc.department, 'job', mc.job)) AS credits FROM tmdb_movie_credits mc GROUP BY mc.movie_id, mc.person_id",
      "materialized": false
    },
    "public.media_movie": {
      "name": "media_movie",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "poster_path": {
          "name": "poster_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "poster_url": {
          "name": "poster_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "backdrop_path": {
          "name": "backdrop_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "backdrop_url": {
          "name": "backdrop_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "directors": {
          "name": "directors",
          "type": "jsonb[]",
          "primaryKey": false,
          "notNull": false
        },
        "genres": {
          "name": "genres",
          "type": "jsonb[]",
          "primaryKey": false,
          "notNull": false
        },
        "release_date": {
          "name": "release_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "overview": {
          "name": "overview",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "budget": {
          "name": "budget",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "homepage": {
          "name": "homepage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "revenue": {
          "name": "revenue",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "runtime": {
          "name": "runtime",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "original_language": {
          "name": "original_language",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "original_title": {
          "name": "original_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "popularity": {
          "name": "popularity",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "vote_average": {
          "name": "vote_average",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "vote_count": {
          "name": "vote_count",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "follower_avg_rating": {
          "name": "follower_avg_rating",
          "type": "numeric",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT movie.id, COALESCE(movie.title, movie.original_title) AS title, movie.poster_path, 'https://image.tmdb.org/t/p/original'::text || movie.poster_path AS poster_url, movie.backdrop_path, 'https://image.tmdb.org/t/p/original'::text || movie.backdrop_path AS backdrop_url, movie.directors, movie.genres, movie.release_date, movie.overview, movie.budget, movie.homepage, movie.revenue, movie.runtime, movie.original_language, movie.original_title, movie.status, movie.popularity, movie.vote_average, movie.vote_count, (movie.id || '-'::text) || slugify(movie.title) AS slug, ('/film/'::text || (movie.id || '-'::text)) || slugify(movie.title) AS url, ( SELECT avg(ua.rating) AS follower_avg_rating FROM user_activities_movie ua JOIN user_follower uf ON ua.user_id = uf.followee_id WHERE uf.user_id = auth.uid() AND ua.movie_id = movie.id GROUP BY ua.movie_id) AS follower_avg_rating FROM ( SELECT m.id, ( SELECT COALESCE(NULLIF(t.title, ''::text), CASE WHEN t.iso_639_1 = m.original_language THEN m.original_title ELSE NULL::text END, m.original_title) AS title FROM tmdb_movie_translations t WHERE t.movie_id = m.id ORDER BY ( CASE WHEN t.iso_639_1 = (language.requested_language).iso_639_1 AND t.iso_3166_1 = (language.requested_language).iso_3166_1 THEN 1 WHEN t.iso_639_1 = (language.fallback_language).iso_639_1 AND t.iso_3166_1 = (language.fallback_language).iso_3166_1 THEN 2 WHEN t.iso_639_1 = (language.default_language).iso_639_1 AND t.iso_3166_1 = (language.default_language).iso_3166_1 THEN 3 WHEN t.iso_639_1 = m.original_language THEN 4 ELSE 5 END) LIMIT 1) AS title, ( SELECT mi.file_path FROM tmdb_movie_images mi WHERE mi.movie_id = m.id AND mi.type = 'poster'::image_type ORDER BY ( CASE WHEN mi.iso_639_1 = (language.requested_language).iso_639_1 THEN 1 WHEN mi.iso_639_1 = m.original_language THEN 2 ELSE 3 END), mi.vote_average DESC NULLS LAST LIMIT 1) AS poster_path, ( SELECT mi.file_path FROM tmdb_movie_images mi WHERE mi.movie_id = m.id AND mi.type = 'backdrop'::image_type ORDER BY ( CASE WHEN mi.iso_639_1 IS NULL THEN 1 WHEN mi.iso_639_1 = (language.requested_language).iso_639_1 THEN 2 WHEN mi.iso_639_1 = (language.fallback_language).iso_639_1 THEN 3 WHEN mi.iso_639_1 = (language.default_language).iso_639_1 THEN 4 ELSE 5 END), mi.vote_average DESC NULLS LAST LIMIT 1) AS backdrop_path, ( SELECT NULLIF(t.overview, ''::text) AS \"nullif\" FROM tmdb_movie_translations t WHERE t.movie_id = m.id ORDER BY ( CASE WHEN t.iso_639_1 = (language.requested_language).iso_639_1 AND t.iso_3166_1 = (language.requested_language).iso_3166_1 THEN 1 WHEN t.iso_639_1 = (language.fallback_language).iso_639_1 AND t.iso_3166_1 = (language.fallback_language).iso_3166_1 THEN 2 ELSE 3 END) LIMIT 1) AS overview, m.budget, ( SELECT NULLIF(t.homepage, ''::text) AS \"nullif\" FROM tmdb_movie_translations t WHERE t.movie_id = m.id ORDER BY ( CASE WHEN t.iso_639_1 = (language.requested_language).iso_639_1 AND t.iso_3166_1 = (language.requested_language).iso_3166_1 THEN 1 WHEN t.iso_639_1 = (language.fallback_language).iso_639_1 AND t.iso_3166_1 = (language.fallback_language).iso_3166_1 THEN 2 WHEN t.iso_639_1 = (language.default_language).iso_639_1 AND t.iso_3166_1 = (language.default_language).iso_3166_1 THEN 3 ELSE 4 END) LIMIT 1) AS homepage, m.revenue, ( SELECT t.runtime FROM tmdb_movie_translations t WHERE t.movie_id = m.id AND t.runtime <> 0 ORDER BY ( CASE WHEN t.iso_639_1 = (language.requested_language).iso_639_1 AND t.iso_3166_1 = (language.requested_language).iso_3166_1 THEN 1 WHEN t.iso_639_1 = (language.fallback_language).iso_639_1 AND t.iso_3166_1 = (language.fallback_language).iso_3166_1 THEN 2 WHEN t.iso_639_1 = (language.default_language).iso_639_1 AND t.iso_3166_1 = (language.default_language).iso_3166_1 THEN 3 ELSE 4 END) LIMIT 1) AS runtime, m.original_language, m.original_title, m.popularity, m.vote_average, m.vote_count, ( SELECT r.release_date FROM tmdb_movie_release_dates r WHERE r.movie_id = m.id ORDER BY ( CASE WHEN r.release_type = ANY (ARRAY[2, 3]) THEN 1 WHEN r.release_type = 1 THEN 2 WHEN r.release_type = ANY (ARRAY[4, 5, 6]) THEN 3 ELSE 4 END), ( CASE WHEN r.iso_3166_1 = (language.requested_language).iso_3166_1 THEN 1 WHEN r.iso_3166_1 = (language.default_language).iso_3166_1 THEN 2 ELSE 3 END), r.release_date LIMIT 1) AS release_date, m.status, ( SELECT array_agg(to_jsonb(p.*)) AS array_agg FROM tmdb_movie_credits mc JOIN media_person p ON mc.person_id = p.id WHERE mc.movie_id = m.id AND mc.job = 'Director'::text) AS directors, ( SELECT array_agg(jsonb_build_object('id', g.id, 'name', gt.name)) AS array_agg FROM tmdb_movie_genres mg JOIN tmdb_genre g ON mg.genre_id = g.id JOIN tmdb_genre_translation gt ON g.id = gt.genre WHERE mg.movie_id = m.id AND gt.language = (((language.requested_language).iso_639_1 || '-'::text) || (language.requested_language).iso_3166_1)) AS genres FROM tmdb_movie m, LATERAL config.language() language(requested_language, fallback_language, default_language)) movie",
      "materialized": false
    },
    "public.media_combined_credits": {
      "name": "media_combined_credits",
      "schema": "public",
      "columns": {
        "credit_id": {
          "name": "credit_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "media_type": {
          "name": "media_type",
          "type": "media_type",
          "primaryKey": false,
          "notNull": false
        },
        "media_id": {
          "name": "media_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "person_id": {
          "name": "person_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "department": {
          "name": "department",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "job": {
          "name": "job",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ref_date": {
          "name": "ref_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT mc.id AS credit_id, 'movie'::media_type AS media_type, mc.movie_id AS media_id, mc.person_id, mc.department, mc.job, ( SELECT r.release_date FROM tmdb_movie_release_dates r WHERE r.movie_id = mc.movie_id ORDER BY ( CASE WHEN r.release_type = ANY (ARRAY[2, 3]) THEN 1 WHEN r.release_type = 1 THEN 2 WHEN r.release_type = ANY (ARRAY[4, 5, 6]) THEN 3 ELSE 4 END), r.release_date LIMIT 1) AS ref_date FROM tmdb_movie_credits mc UNION ALL SELECT c.id AS credit_id, 'tv_series'::media_type AS media_type, c.serie_id AS media_id, c.person_id, c.department, c.job, max(e.air_date) AS ref_date FROM tmdb_tv_series_credits c JOIN tmdb_tv_series_seasons_credits sc ON sc.credit_id = c.id JOIN tmdb_tv_series_episodes e ON e.season_id = sc.season_id GROUP BY c.id, c.serie_id, c.person_id, c.department, c.job",
      "materialized": true
    },
    "public.media_movie_casting": {
      "name": "media_movie_casting",
      "schema": "public",
      "columns": {
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "person_id": {
          "name": "person_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "order": {
          "name": "order",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "credits": {
          "name": "credits",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT c.movie_id, c.person_id, min(r.\"order\") AS \"order\", jsonb_agg(jsonb_build_object('credit_id', c.id, 'job', c.job, 'department', c.department, 'role', to_jsonb(r.*)) ORDER BY r.\"order\") AS credits FROM tmdb_movie_credits c LEFT JOIN tmdb_movie_roles r ON r.credit_id = c.id WHERE c.job = 'Actor'::text GROUP BY c.movie_id, c.person_id",
      "materialized": false
    },
    "public.media_tv_series_casting": {
      "name": "media_tv_series_casting",
      "schema": "public",
      "columns": {
        "serie_id": {
          "name": "serie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "person_id": {
          "name": "person_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "order": {
          "name": "order",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "credits": {
          "name": "credits",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT c.serie_id, c.person_id, min(r.\"order\") AS \"order\", jsonb_agg(jsonb_build_object('credit_id', c.id, 'job', c.job, 'department', c.department, 'role', to_jsonb(r.*)) ORDER BY r.\"order\") AS credits FROM tmdb_tv_series_credits c LEFT JOIN tmdb_tv_series_roles r ON r.credit_id = c.id WHERE c.job = 'Actor'::text GROUP BY c.serie_id, c.person_id",
      "materialized": false
    },
    "public.media_tv_series_aggregate_credits": {
      "name": "media_tv_series_aggregate_credits",
      "schema": "public",
      "columns": {
        "serie_id": {
          "name": "serie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "person_id": {
          "name": "person_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "last_appearance_date": {
          "name": "last_appearance_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "credits": {
          "name": "credits",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT c.serie_id, c.person_id, max(e.air_date) AS last_appearance_date, json_agg(json_build_object('credit_id', c.id, 'department', c.department, 'job', c.job, 'season_id', s.id, 'season_number', s.season_number)) AS credits FROM tmdb_tv_series_credits c JOIN tmdb_tv_series_seasons_credits sc ON sc.credit_id = c.id JOIN tmdb_tv_series_seasons s ON s.id = sc.season_id JOIN tmdb_tv_series_episodes e ON e.season_id = s.id GROUP BY c.serie_id, c.person_id",
      "materialized": false
    },
    "public.media_movie_backdrops": {
      "name": "media_movie_backdrops",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "image_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "aspect_ratio": {
          "name": "aspect_ratio",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "height": {
          "name": "height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "width": {
          "name": "width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "vote_average": {
          "name": "vote_average",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "vote_count": {
          "name": "vote_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "iso_639_1": {
          "name": "iso_639_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "backdrop_url": {
          "name": "backdrop_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT mi.id, mi.movie_id, mi.file_path, mi.type, mi.aspect_ratio, mi.height, mi.width, mi.vote_average, mi.vote_count, mi.iso_639_1, 'https://image.tmdb.org/t/p/original'::text || mi.file_path AS backdrop_url FROM tmdb_movie_images mi, LATERAL config.language() language(requested_language, fallback_language, default_language) WHERE mi.type = 'backdrop'::image_type ORDER BY ( CASE WHEN mi.iso_639_1 IS NULL THEN 1 WHEN mi.iso_639_1 = (language.requested_language).iso_639_1 THEN 2 WHEN mi.iso_639_1 = (language.fallback_language).iso_639_1 THEN 3 WHEN mi.iso_639_1 = (language.default_language).iso_639_1 THEN 4 ELSE 5 END), mi.vote_average DESC NULLS LAST, mi.id",
      "materialized": false
    },
    "public.media_company": {
      "name": "media_company",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "logo_path": {
          "name": "logo_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "alternative_names": {
          "name": "alternative_names",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        },
        "headquarters": {
          "name": "headquarters",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "homepage": {
          "name": "homepage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "origin_country": {
          "name": "origin_country",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parent_company": {
          "name": "parent_company",
          "type": "json",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT c.id, c.name, c.description, ( SELECT ci.file_path FROM tmdb_company_image ci WHERE ci.company = c.id ORDER BY ci.vote_average DESC NULLS LAST LIMIT 1) AS logo_path, ( SELECT json_agg(an.name) AS json_agg FROM tmdb_company_alternative_name an WHERE an.company = c.id) AS alternative_names, c.headquarters, c.homepage, c.origin_country, CASE WHEN c.parent_company IS NOT NULL THEN json_build_object('id', parent.id, 'name', parent.name) ELSE NULL::json END AS parent_company FROM tmdb_company c LEFT JOIN tmdb_company parent ON c.parent_company = parent.id",
      "materialized": false
    },
    "public.media_collection": {
      "name": "media_collection",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "overview": {
          "name": "overview",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "homepage": {
          "name": "homepage",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "poster_path": {
          "name": "poster_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "backdrop_path": {
          "name": "backdrop_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT c.id, COALESCE(( SELECT NULLIF(t.title, ''::text) AS \"nullif\" FROM tmdb_collection_translation t WHERE t.collection = c.id AND t.iso_639_1 = (language.requested_language).iso_639_1 AND t.iso_3166_1 = (language.requested_language).iso_3166_1 LIMIT 1), ( SELECT NULLIF(t.title, ''::text) AS \"nullif\" FROM tmdb_collection_translation t WHERE t.collection = c.id AND t.iso_639_1 = (language.fallback_language).iso_639_1 AND t.iso_3166_1 = (language.fallback_language).iso_3166_1 LIMIT 1), ( SELECT NULLIF(t.title, ''::text) AS \"nullif\" FROM tmdb_collection_translation t WHERE t.collection = c.id AND t.iso_639_1 = (language.default_language).iso_639_1 AND t.iso_3166_1 = (language.default_language).iso_3166_1 LIMIT 1), c.name) AS name, COALESCE(( SELECT NULLIF(t.overview, ''::text) AS \"nullif\" FROM tmdb_collection_translation t WHERE t.collection = c.id AND t.iso_639_1 = (language.requested_language).iso_639_1 AND t.iso_3166_1 = (language.requested_language).iso_3166_1 LIMIT 1), ( SELECT NULLIF(t.overview, ''::text) AS \"nullif\" FROM tmdb_collection_translation t WHERE t.collection = c.id AND t.iso_639_1 = (language.fallback_language).iso_639_1 AND t.iso_3166_1 = (language.fallback_language).iso_3166_1 LIMIT 1)) AS overview, COALESCE(( SELECT NULLIF(t.homepage, ''::text) AS \"nullif\" FROM tmdb_collection_translation t WHERE t.collection = c.id AND t.iso_639_1 = (language.requested_language).iso_639_1 AND t.iso_3166_1 = (language.requested_language).iso_3166_1 LIMIT 1), ( SELECT NULLIF(t.homepage, ''::text) AS \"nullif\" FROM tmdb_collection_translation t WHERE t.collection = c.id AND t.iso_639_1 = (language.fallback_language).iso_639_1 AND t.iso_3166_1 = (language.fallback_language).iso_3166_1 LIMIT 1), ( SELECT NULLIF(t.homepage, ''::text) AS \"nullif\" FROM tmdb_collection_translation t WHERE t.collection = c.id AND t.iso_639_1 = (language.default_language).iso_639_1 AND t.iso_3166_1 = (language.default_language).iso_3166_1 LIMIT 1)) AS homepage, COALESCE(( SELECT ci.file_path FROM tmdb_collection_image ci WHERE ci.collection = c.id AND ci.type = 'poster'::image_type AND ci.iso_639_1 = (language.requested_language).iso_639_1 ORDER BY ci.vote_average DESC NULLS LAST LIMIT 1), ( SELECT ci.file_path FROM tmdb_collection_image ci WHERE ci.collection = c.id AND ci.type = 'poster'::image_type ORDER BY ci.vote_average DESC NULLS LAST LIMIT 1)) AS poster_path, ( SELECT ci.file_path FROM tmdb_collection_image ci WHERE ci.collection = c.id AND ci.type = 'backdrop'::image_type ORDER BY ci.vote_average DESC NULLS LAST LIMIT 1) AS backdrop_path FROM tmdb_collection c, LATERAL config.language() language(requested_language, fallback_language, default_language)",
      "materialized": false
    },
    "public.media_person_jobs": {
      "name": "media_person_jobs",
      "schema": "public",
      "columns": {
        "person_id": {
          "name": "person_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "department": {
          "name": "department",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "jobs": {
          "name": "jobs",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT tmdb_movie_credits.person_id, tmdb_movie_credits.department, array_agg(DISTINCT tmdb_movie_credits.job) AS jobs FROM tmdb_movie_credits GROUP BY tmdb_movie_credits.person_id, tmdb_movie_credits.department",
      "materialized": false
    },
    "public.widget_most_recommended": {
      "name": "widget_most_recommended",
      "schema": "public",
      "columns": {
        "media_id": {
          "name": "media_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "user_recos_type",
          "primaryKey": false,
          "notNull": false
        },
        "recommendation_count": {
          "name": "recommendation_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT recos.media_id, recos.type, count(*) AS recommendation_count FROM ( SELECT ur_movie.movie_id AS media_id, 'movie'::user_recos_type AS type FROM user_recos_movie ur_movie WHERE ur_movie.created_at > (now() - '30 days'::interval) UNION ALL SELECT ur_tv.tv_series_id AS media_id, 'tv_series'::user_recos_type AS type FROM user_recos_tv_series ur_tv WHERE ur_tv.created_at > (now() - '30 days'::interval)) recos GROUP BY recos.media_id, recos.type",
      "materialized": true
    },
    "public.media_tv_series_backdrops": {
      "name": "media_tv_series_backdrops",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "serie_id": {
          "name": "serie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "image_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "aspect_ratio": {
          "name": "aspect_ratio",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "height": {
          "name": "height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "width": {
          "name": "width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "vote_average": {
          "name": "vote_average",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "vote_count": {
          "name": "vote_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "iso_639_1": {
          "name": "iso_639_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "backdrop_url": {
          "name": "backdrop_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT tvi.id, tvi.serie_id, tvi.file_path, tvi.type, tvi.aspect_ratio, tvi.height, tvi.width, tvi.vote_average, tvi.vote_count, tvi.iso_639_1, 'https://image.tmdb.org/t/p/original'::text || tvi.file_path AS backdrop_url FROM tmdb_tv_series_images tvi, LATERAL config.language() language(requested_language, fallback_language, default_language) WHERE tvi.type = 'backdrop'::image_type ORDER BY ( CASE WHEN tvi.iso_639_1 IS NULL THEN 1 WHEN tvi.iso_639_1 = (language.requested_language).iso_639_1 THEN 2 WHEN tvi.iso_639_1 = (language.fallback_language).iso_639_1 THEN 3 WHEN tvi.iso_639_1 = (language.default_language).iso_639_1 THEN 4 ELSE 5 END), tvi.vote_average DESC NULLS LAST, tvi.id",
      "materialized": false
    },
    "public.media_tv_series_posters": {
      "name": "media_tv_series_posters",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "serie_id": {
          "name": "serie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "image_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "aspect_ratio": {
          "name": "aspect_ratio",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "height": {
          "name": "height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "width": {
          "name": "width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "vote_average": {
          "name": "vote_average",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "vote_count": {
          "name": "vote_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "iso_639_1": {
          "name": "iso_639_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "poster_url": {
          "name": "poster_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT tvi.id, tvi.serie_id, tvi.file_path, tvi.type, tvi.aspect_ratio, tvi.height, tvi.width, tvi.vote_average, tvi.vote_count, tvi.iso_639_1, 'https://image.tmdb.org/t/p/original'::text || tvi.file_path AS poster_url FROM tmdb_tv_series_images tvi, LATERAL config.language() language(requested_language, fallback_language, default_language) WHERE tvi.type = 'poster'::image_type ORDER BY ( CASE WHEN tvi.iso_639_1 = (language.requested_language).iso_639_1 THEN 1 WHEN tvi.iso_639_1 = (language.fallback_language).iso_639_1 THEN 2 WHEN tvi.iso_639_1 = (language.default_language).iso_639_1 THEN 3 WHEN tvi.iso_639_1 IS NULL THEN 4 ELSE 5 END), tvi.vote_average DESC NULLS LAST, tvi.id",
      "materialized": false
    },
    "public.tmdb_person_department": {
      "name": "tmdb_person_department",
      "schema": "public",
      "columns": {
        "department": {
          "name": "department",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "person_id": {
          "name": "person_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT DISTINCT tmdb_movie_credits.department, tmdb_movie_credits.person_id FROM tmdb_movie_credits",
      "materialized": false
    },
    "public.tmdb_movie_credits_random": {
      "name": "tmdb_movie_credits_random",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "person_id": {
          "name": "person_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "department": {
          "name": "department",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "job": {
          "name": "job",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT tmdb_movie_credits.id, tmdb_movie_credits.movie_id, tmdb_movie_credits.person_id, tmdb_movie_credits.department, tmdb_movie_credits.job FROM tmdb_movie_credits ORDER BY (random())",
      "materialized": false
    },
    "public.media_movie_posters": {
      "name": "media_movie_posters",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "image_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "aspect_ratio": {
          "name": "aspect_ratio",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "height": {
          "name": "height",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "width": {
          "name": "width",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "vote_average": {
          "name": "vote_average",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "vote_count": {
          "name": "vote_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "iso_639_1": {
          "name": "iso_639_1",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "poster_url": {
          "name": "poster_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT mi.id, mi.movie_id, mi.file_path, mi.type, mi.aspect_ratio, mi.height, mi.width, mi.vote_average, mi.vote_count, mi.iso_639_1, 'https://image.tmdb.org/t/p/original'::text || mi.file_path AS poster_url FROM tmdb_movie_images mi, LATERAL config.language() language(requested_language, fallback_language, default_language) WHERE mi.type = 'poster'::image_type ORDER BY ( CASE WHEN mi.iso_639_1 = (language.requested_language).iso_639_1 THEN 1 WHEN mi.iso_639_1 = (language.fallback_language).iso_639_1 THEN 2 WHEN mi.iso_639_1 = (language.default_language).iso_639_1 THEN 3 WHEN mi.iso_639_1 IS NULL THEN 4 ELSE 5 END), mi.vote_average DESC NULLS LAST, mi.id",
      "materialized": false
    },
    "public.user_feed_cast_crew": {
      "name": "user_feed_cast_crew",
      "schema": "public",
      "columns": {
        "person_id": {
          "name": "person_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "jobs": {
          "name": "jobs",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT mc.person_id, mc.movie_id, mc.jobs FROM ( SELECT mc_1.person_id, mc_1.movie_id, array_agg(mc_1.job) AS jobs FROM tmdb_movie_credits mc_1 WHERE (mc_1.person_id IN ( SELECT upf.person_id FROM user_person_follower upf WHERE upf.user_id = auth.uid())) GROUP BY mc_1.person_id, mc_1.movie_id) mc WHERE (EXISTS ( SELECT 1 FROM \"user\" u WHERE u.id = auth.uid() AND u.premium = true))",
      "materialized": false
    },
    "public.user_recos_tv_series_aggregated": {
      "name": "user_recos_tv_series_aggregated",
      "schema": "public",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "tv_series_id": {
          "name": "tv_series_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "senders": {
          "name": "senders",
          "type": "json[]",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "reco_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT min(ur.created_at) AS created_at, ur.user_id, ur.tv_series_id, array_agg(json_build_object('user', row_to_json(p.*), 'comment', ur.comment, 'created_at', ur.created_at) ORDER BY ur.created_at) AS senders, ur.status FROM user_recos_tv_series ur JOIN profile p ON ur.sender_id = p.id GROUP BY ur.user_id, ur.tv_series_id, ur.status",
      "materialized": false,
      "with": {
        "securityInvoker": true
      }
    },
    "public.user_recos_movie_aggregated": {
      "name": "user_recos_movie_aggregated",
      "schema": "public",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "senders": {
          "name": "senders",
          "type": "json[]",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "reco_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT min(ur.created_at) AS created_at, ur.user_id, ur.movie_id, array_agg(json_build_object('user', row_to_json(p.*), 'comment', ur.comment, 'created_at', ur.created_at) ORDER BY ur.created_at) AS senders, ur.status FROM user_recos_movie ur JOIN profile p ON ur.sender_id = p.id GROUP BY ur.user_id, ur.movie_id, ur.status",
      "materialized": false,
      "with": {
        "securityInvoker": true
      }
    },
    "public.playlists_friends": {
      "name": "playlists_friends",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "poster_url": {
          "name": "poster_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "private": {
          "name": "private",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "items_count": {
          "name": "items_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "saved_count": {
          "name": "saved_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "likes_count": {
          "name": "likes_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "playlists_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT DISTINCT p.id, p.created_at, p.updated_at, p.user_id, p.title, p.description, p.poster_url, p.private, p.items_count, p.saved_count, p.likes_count, p.type FROM playlists p JOIN user_follower uf ON uf.followee_id = p.user_id WHERE uf.user_id = auth.uid()",
      "materialized": false,
      "with": {
        "securityInvoker": "on"
      }
    },
    "public.user_recos_movie_aggregated_random": {
      "name": "user_recos_movie_aggregated_random",
      "schema": "public",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "movie_id": {
          "name": "movie_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "senders": {
          "name": "senders",
          "type": "json[]",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "reco_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT min(ur.created_at) AS created_at, ur.user_id, ur.movie_id, array_agg(json_build_object('user', row_to_json(p.*), 'comment', ur.comment, 'created_at', ur.created_at) ORDER BY ur.created_at) AS senders, ur.status FROM user_recos_movie ur JOIN profile p ON ur.sender_id = p.id GROUP BY ur.user_id, ur.movie_id, ur.status ORDER BY (random())",
      "materialized": false,
      "with": {
        "securityInvoker": true
      }
    },
    "public.user_recos_tv_series_aggregated_random": {
      "name": "user_recos_tv_series_aggregated_random",
      "schema": "public",
      "columns": {
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "tv_series_id": {
          "name": "tv_series_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "senders": {
          "name": "senders",
          "type": "json[]",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "reco_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT min(ur.created_at) AS created_at, ur.user_id, ur.tv_series_id, array_agg(json_build_object('user', row_to_json(p.*), 'comment', ur.comment, 'created_at', ur.created_at) ORDER BY ur.created_at) AS senders, ur.status FROM user_recos_tv_series ur JOIN profile p ON ur.sender_id = p.id GROUP BY ur.user_id, ur.tv_series_id, ur.status ORDER BY (random())",
      "materialized": false,
      "with": {
        "securityInvoker": true
      }
    },
    "public.profile": {
      "name": "profile",
      "schema": "public",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "username": {
          "name": "username",
          "type": "citext",
          "primaryKey": false,
          "notNull": false
        },
        "full_name": {
          "name": "full_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bio": {
          "name": "bio",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "website": {
          "name": "website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "favorite_color": {
          "name": "favorite_color",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "followers_count": {
          "name": "followers_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "following_count": {
          "name": "following_count",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "background_url": {
          "name": "background_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "premium": {
          "name": "premium",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "private": {
          "name": "private",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "visible": {
          "name": "visible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "isExisting": false,
      "definition": "SELECT u.id, u.username, u.full_name, u.bio, u.avatar_url, u.website, u.favorite_color, u.followers_count, u.following_count, u.background_url, u.premium, u.private, (( SELECT auth.uid() AS uid)) = u.id OR NOT u.private OR utils_check_user_following(( SELECT auth.uid() AS uid), u.id) AS visible, u.created_at FROM \"user\" u",
      "materialized": false
    }
  },
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {
      "oauth_authorizations": {
        "columns": {
          "expires_at": {
            "isDefaultAnExpression": true
          }
        }
      },
      "users": {
        "columns": {
          "phone": {
            "isDefaultAnExpression": true
          }
        }
      },
      "user_reviews_movie": {
        "columns": {
          "views_count": {
            "isDefaultAnExpression": true
          },
          "likes_count": {
            "isDefaultAnExpression": true
          },
          "comments_count": {
            "isDefaultAnExpression": true
          }
        }
      },
      "user_reviews_tv_series": {
        "columns": {
          "views_count": {
            "isDefaultAnExpression": true
          },
          "likes_count": {
            "isDefaultAnExpression": true
          },
          "comments_count": {
            "isDefaultAnExpression": true
          }
        }
      },
      "user_deletion_requests": {
        "columns": {
          "delete_after": {
            "isDefaultAnExpression": true
          }
        }
      },
      "media_movie_stats": {
        "columns": {
          "watchlist_count": {
            "isDefaultAnExpression": true
          },
          "recos_count": {
            "isDefaultAnExpression": true
          }
        }
      },
      "media_tv_series_stats": {
        "columns": {
          "watchlist_count": {
            "isDefaultAnExpression": true
          },
          "recos_count": {
            "isDefaultAnExpression": true
          }
        }
      },
      "playlists": {
        "columns": {
          "items_count": {
            "isDefaultAnExpression": true
          },
          "saved_count": {
            "isDefaultAnExpression": true
          },
          "likes_count": {
            "isDefaultAnExpression": true
          }
        }
      },
      "tmdb_tv_series_episodes": {
        "columns": {
          "vote_average": {
            "isDefaultAnExpression": true
          }
        }
      },
      "tmdb_tv_series_images": {
        "columns": {
          "aspect_ratio": {
            "isDefaultAnExpression": true
          },
          "vote_average": {
            "isDefaultAnExpression": true
          }
        }
      },
      "tmdb_tv_series_content_ratings": {
        "columns": {
          "descriptors": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "tmdb_tv_series": {
        "columns": {
          "popularity": {
            "isDefaultAnExpression": true
          },
          "vote_average": {
            "isDefaultAnExpression": true
          },
          "vote_count": {
            "isDefaultAnExpression": true
          }
        }
      },
      "tmdb_movie_release_dates": {
        "columns": {
          "descriptors": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "tmdb_movie": {
        "columns": {
          "budget": {
            "isDefaultAnExpression": true
          },
          "popularity": {
            "isDefaultAnExpression": true
          },
          "revenue": {
            "isDefaultAnExpression": true
          },
          "vote_average": {
            "isDefaultAnExpression": true
          },
          "vote_count": {
            "isDefaultAnExpression": true
          }
        }
      },
      "tmdb_movie_images": {
        "columns": {
          "aspect_ratio": {
            "isDefaultAnExpression": true
          },
          "vote_average": {
            "isDefaultAnExpression": true
          }
        }
      },
      "user": {
        "columns": {
          "followers_count": {
            "isDefaultAnExpression": true
          },
          "following_count": {
            "isDefaultAnExpression": true
          }
        }
      },
      "user_recos_aggregated": {
        "columns": {
          "senders": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "json"
          }
        }
      },
      "user_recos_aggregated_random": {
        "columns": {
          "senders": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "json"
          }
        }
      },
      "media_tv_series": {
        "columns": {
          "created_by": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "jsonb"
          },
          "genres": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "jsonb"
          }
        }
      },
      "media_movie_full": {
        "columns": {
          "directors": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "jsonb"
          },
          "genres": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "jsonb"
          }
        }
      },
      "media_tv_series_full": {
        "columns": {
          "created_by": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "jsonb"
          },
          "genres": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "jsonb"
          }
        }
      },
      "media_movie": {
        "columns": {
          "directors": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "jsonb"
          },
          "genres": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "jsonb"
          }
        }
      },
      "media_person_jobs": {
        "columns": {
          "jobs": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          }
        }
      },
      "user_feed_cast_crew": {
        "columns": {
          "jobs": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "text"
          }
        }
      },
      "user_recos_tv_series_aggregated": {
        "columns": {
          "senders": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "json"
          }
        }
      },
      "user_recos_movie_aggregated": {
        "columns": {
          "senders": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "json"
          }
        }
      },
      "user_recos_movie_aggregated_random": {
        "columns": {
          "senders": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "json"
          }
        }
      },
      "user_recos_tv_series_aggregated_random": {
        "columns": {
          "senders": {
            "isArray": true,
            "dimensions": 0,
            "rawType": "json"
          }
        }
      }
    }
  }
}
